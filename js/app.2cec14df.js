(function(e){function t(t){for(var a,r,o=t[0],c=t[1],u=t[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0414":function(e,t,n){"use strict";n("afc9")},"06d8":function(e,t,n){},"06fa":function(e,t,n){},"0b60":function(e,t,n){e.exports=n.p+"img/bullseye-round-purple-highres.e68811d1.png"},"0ecb":function(e,t,n){},"0f12":function(e,t,n){},1064:function(e,t,n){},"12d8":function(e,t){e.exports="data:image/png;base64,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"},"178f":function(e,t,n){"use strict";n("c472")},"25aa":function(e,t,n){"use strict";n("613f")},2758:function(e,t,n){},"280c":function(e,t,n){"use strict";n("704d")},"28a6":function(e,t,n){"use strict";n("8d8d")},"297c":function(e,t,n){"use strict";n("66e9")},"2e2b":function(e,t,n){"use strict";n("9f67")},"2f0d":function(e,t,n){"use strict";n("d40e")},"322b":function(e,t,n){},"34e2":function(e,t,n){"use strict";n("68b3")},"3a45":function(e,t,n){"use strict";n("d5d8")},"3c2d":function(e,t,n){},4262:function(e,t){e.exports="data:image/png;base64,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"},4442:function(e,t,n){"use strict";n("7ae7")},4463:function(e,t,n){"use strict";n("0ecb")},"4a22":function(e,t,n){"use strict";n("1064")},"4b18":function(e,t,n){e.exports=n.p+"img/user-position-red-highres.b3d572be.png"},"4b6f":function(e,t,n){},"4b86":function(e,t,n){"use strict";n("8d3e")},"4cc9":function(e,t){e.exports="data:image/png;base64,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"},"4d08":function(e,t,n){"use strict";n("70f8")},"4f0a":function(e,t,n){},"53d7":function(e,t,n){"use strict";n("e503")},"5bbf":function(e,t){e.exports="data:image/png;base64,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"},"5c85":function(e,t,n){"use strict";n("e33b")},"5ee6":function(e,t,n){"use strict";n("8610")},"613f":function(e,t,n){},6338:function(e,t,n){"use strict";n("6995")},"66e9":function(e,t,n){},"68b3":function(e,t,n){},6995:function(e,t,n){},"6b64":function(e,t,n){},"6c19":function(e,t,n){},"6f1b":function(e,t,n){},"6f20":function(e,t,n){"use strict";n("dcfe")},"704d":function(e,t,n){},"70f8":function(e,t,n){},"719b":function(e,t,n){"use strict";n("a277")},"72ff":function(e,t,n){"use strict";n("feb9")},7371:function(e,t,n){},"76c8":function(e,t,n){"use strict";n("4f0a")},7861:function(e,t,n){},"7a97":function(e,t,n){"use strict";n("f610")},"7ae7":function(e,t,n){},"7c46":function(e,t,n){"use strict";n("3c2d")},"7cdc":function(e,t,n){},"7d8a":function(e,t,n){"use strict";n("0f12")},8495:function(e,t,n){"use strict";n("e175")},8610:function(e,t,n){},"871f":function(e,t,n){},8960:function(e,t,n){"use strict";n("2758")},"8a49":function(e,t,n){},"8ca5":function(e,t,n){},"8d3e":function(e,t,n){},"8d8d":function(e,t,n){},"8df8":function(e,t,n){"use strict";n("6b64")},"8e38":function(e,t,n){"use strict";n("06fa")},"8e8b":function(e,t,n){"use strict";n("8a49")},9182:function(e,t,n){},"92cf":function(e,t,n){"use strict";n("d1fd")},"94c6":function(e,t,n){"use strict";n("6c19")},9565:function(e,t){e.exports="data:image/png;base64,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"},"9a5b":function(e,t,n){},"9b4f":function(e,t,n){"use strict";n("06d8")},"9d89":function(e,t,n){"use strict";n("7cdc")},"9f67":function(e,t,n){},"9fa5":function(e,t,n){},a277:function(e,t,n){},ad54:function(e,t,n){"use strict";n("9fa5")},afc9:function(e,t,n){},b122:function(e,t,n){"use strict";n("e390")},b12a:function(e,t,n){"use strict";n("db8b")},b2b0:function(e,t,n){},b634:function(e,t,n){"use strict";n("8ca5")},b84e:function(e,t,n){"use strict";n("7371")},ba3d:function(e,t,n){},bb6f:function(e,t,n){"use strict";n("ba3d")},bec1:function(e,t,n){"use strict";n("322b")},c051:function(e,t,n){"use strict";n("9182")},c2c8:function(e,t,n){"use strict";n("f7b4")},c472:function(e,t,n){},c589:function(e,t,n){"use strict";n("caa1")},caa1:function(e,t,n){},cc1f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAADslJREFUeF7tXG2sHGd1Pue8M7t3P29CcNUIi8SWrFAT5QO7JELQ2FJi8gNUpxJWaVWJ8KNCRVzbFcX5U8VR/8QU4Y8KhPhBIlVtkZGIEf0RnEh2CqpisMGJgktkyXGQq6CGgO/Oftydmfec6szdDevN3Z2Z3dkP23ekla9333nnfZ/nnOec97wzg7B+zBQBnOnVYy7+xKOHd7CY+xD4XmC6E1DuBAD9DDsug+BlIL4sQK8Q2vNPP7//9LzOc64IeOLRw3eymN3I8OeAsiNT0ARPC8EPCO2Jp5/ffznTvsfobOYE7Ntx+JYF1+wWlL0AcN8Yc0lz6nkUPLoS2BNHTu+/mubErNvOjAC1dhF8EgR3A8AtWU8sYX9XAeUEojw1K6+YOgFq8fk8HgbBzyUEaTrNUJ5tt2X/tD1iqgQ8sevoQQFQqZmVxceReRUBjj59cu/BuIZZ/T4VAv7hkcP3EdIzU9T4cfE5z8KP//ML+8+P21Hc+RMn4CufPLYPRQ7HDWQefxfE/V/90dKRSY5tYgREWp8zzwCIBtnr+MATbd8+PqnYMBECogyH6bnrSHLiDOQ8Ej82iUwpcwI6en9qjgNtHNiDfr/KwjuzjguZEnADg98lJXMSMiPgJgB/IiRkQsBqwKU3bkDZGShHbZ83ZRGYxyagA75q/rTqOKNqeNbnnW/7vHNcEsYm4MAnjzwzd2WFrKEe1B/Ks4d+tO/xcS43FgHX8yJrHNB6zx13sTYyAZ1c/xc3ke4PjAdIfP+oa4SRCTjwyLFTmW+aZGWW0+5H8PShF5Z2jnLZkQh44pFjnxMULa6tHx0EUPDxp19YejYtIKkJuAlTzqSYXh0lNU1NQKem/2TSUd1M7RDgqbR7CakIWLf+WHNK7QWpCFi3/lgCIK0XpCLgwK6jv19PO2NJuHro5N5bY1t1g3fShuuZT1KkANJkRIk94MCuY89d/7tbyUEcryWeOHRy6bEkfSQioBN8VX6menz+00uQuwXgW/96bKTrfuFvlsC/CvCdH452/kgX7ZzU9vnWJIW6RATMQn6+/NQSvP/B1dk0rwC8+HGA/74rGZAfe30JHv4JQHHj6vm/fRnga08mO3cc0HvPTSpDiQiYtvz0gt+dVFIS+sHvnj99EpLJUEICppf9fOZDS7Dt6Np2GEfCIPC7vZ3bC/C9X03NExJlQ7EEdLYateo5lePh1hLsfB7AFNOREAe+bQKcehTgxcLUCAAWvj9uEz+WgFnU/D996xI8+J3kJCQB/+XPA/zw99MDX80nyV5BLAGz2vFKSoJOtDfg9vuNWv4swI/GkWDHLJ6AGdb9k5Cg8+xmO3MF/qoLxO4TxBMw4/JDHAmDAtNMLf8Pg4oNxEkIkKlE3yEXSUvCnIAfzejQyb1DMR76Y2ffV+/3mfmRlIR5Aj8KA8Sbhu0XxxGwQ5j0np+5OOJImDfwOwTsHPaU5nVFgE5oEAnzCP4NScBaJMwr+Nc1AWrp278B4BTWzuO7v+skz37xvYusrqeErbV/n5amIvH1J0H9MpPWwsc9P0tyrjsCBtWCkpIwLEZMuxY0tgTNYiNmWDU0joS4LGnK1dDIkeI2ZuZyIbbWfkBXFgaREAf+9PcDVkc81kJMO5jVnRBpSJhX8AEgg1LEDItxSUhQIxlWup6V5Ufmn00x7shhANyXZWaQpq84ErSvQZs3MwV/lYEjh07u2z9svrExYBYbMv0DHkbCoMnNHvyMNmSmvSU5CNA0JMwD+DqPTLYkZxmIR/GEeQE/SQCO1glJ9Hjat6UMG9MwT5gj8BXaRHfHJSJgFjdmpSVhvsBPfn9oIgJmsSKO88xeT5g38JOsgLvzS0TAahyYv5tz9d5RPWZx7+dwA0kmP4ljgDb8yq7DuxGiV9CsHzEICPBjXz25/0QSoBJ7QCcb0v3huBenJrnujdzm8qGTezclnWAqAuZhUZZ0YrNql+RuuN6xpSJg/SG9WFon+5CeXn79Qb3BJKR9QC9VEO697IFdR9djwXt5SKX9qdPQ3uutZ0TvRT9N5jNyDLjWC+ZvXRCr0BNrkDzv7x9CqiDce/J6QH4XjdSBNxMPWF+crcI4qvSMFQOulaLZ7phNTFUSdRy/4xXXzcgS1JcV6TNkN9dL+xLs98aBP3Ia2t/xTfjmxEzemJgZAdrRTRSUxwq6mWVBa7nXTfD23Pl9dXGXkBtYjjKTnczS0EFB5gYkYSLgZxoD1iJjVs8YJ8k+ErdJ8Kxv4r7WaJhJGtrXL549e9bxfd9ZXFwsbN6z5y+e+5/Xvv7Kw8cq4wx02ufe++KS99if3P33l44f//7y8nIrl8uF27dvD6O1V4ZHJgQcP37cbN68OV8qlQqO7xcolytaa4uWucDGFP7vl8ub3v7Sti+fu/dbH8pw7BPratsrX/jVhn8597U/+vDiG2RtyxC1jDFN9v1mmMu1Go1G69KlS+09e/bYcQcxMgEK+saNG3MbNmwomyBQsEsMUGLmooBTCiTQ120URaQIFgqWg+KbL9e2Bf/4Zw///KPfnEtv+MhP/85z/+m/Xrzjweo5Q24TDLQQsamvLHLRbSKEDSJqEkDDEDWs6zaXl5cb45CRmoBTp045H6xUSmGlUnYUdJGyL1ICa8uhSAkZyxZsicOwBEBKQImtLVnhIgoW23V/8dzxNxdv//fPbj//iW+YcS0oi/Pv+/EX7Vt/9R9nt+25Yzlfzi0LStMgNcmYBiI2ALhJjtMwYBpCUnf0O2PqOcQGIdZDoobjefVfe15j586dKlOJj8QEqMXfc889atUVV0EHqEAQlEPECjOXgaHMHJatSAUEShz4ZRZSj9DfSixcCiUsCXNJBIpBy5Z/+Z9XLn7gxF8+8PN7v514wFk2/Mgrfwv/u/u7Zz78qY1b3IKpI0ITFUx0GoTUAAK1+DohN8jN1Qmpjih1IqcOBHX9zRHxwHXrOQAvQKwDgPfqq682k8pTIgIuXryYD8OwjIhVCIKKAJSZqKrfiUhVRCqsfwNWIuCBKmy5LCAVG4ZlJUE9RVj075KI5PWu8i6YtTcDeP30b87Ufld/IEuAB/VVfV/5zF07/viB6h1ubxOLiG0iaiBhXS1bATaOU0dAjwzVCdhTIhDEI/0e0UPEmuM4dWKuIUAdXNcTkei7LVu2tOPmE0uAgs/MFQUZw7CqHmCZqhatWn5FrK1aK/p31bKtCCshXOZQKlZsNSIApCo2An8BEWnQoKwvoGS88dO3z2x6ITvPUEt/45Hvntn00Q0R6CY3eNoiwkS0ggbrBFhTAgyaGjkKNtWRsGbIeERUMwY9NKZGRB4p6ESeeoA4Tk3J0e/jSBhKgMrOn27ZUrGOUxG1eAW7A35k+VaqVmwFGFbBt1JlsdUu+EqGtbZi2VZBQK0+1eF7DCu/s/DrX/z2TGs5BBsK3PXjvx4oWQr065/4tzPGQSgsOvDB+9//wML7DOQqAzkfPB6EtiFTM8Z4EegdEghNDc0qCUCg33v6f/UEI8YzxDXHmBoy10wYej+7eNEbJkdDCXjttddyrutGEqPWHyJWkbkaMOt3VVEr52CRGSosHBGi/yrgbLlirV1kq54iKl8joJCKr0wbr3oC1skYzxizTIY8JYSQIgL0XyLwDLnLGHkH1lyimhDVHJFa1wuCIKjdfffd/qDBJSaAwnAxQKysEzBFAlSCtm3eXJZ8vtqVoE7Ws+oBMRLUlaVRJShTk07bWUeCunIzUIJUbjrBeDUumJor4qkEYbtdO3fpUn1kCdIxrxWEQ+YKI1ajIBzJkFUyKqGEVWBROap04wBbXStwJElxQTgtRpNo3w3CKjmRzBhq/AF88oDQc9BRGYokSeVnYkG4O0GNBcYYXb1GsaA/DdXFV2j9yrA0VETKulrWVLQ/DZ0EkCP0+W4aqtqPMWmoY3KeLsr601DVfs2ErLXeMO3vji82De02jF2I6dogZAW3zJqG9izERLgoDOXehVhUshApgEBORJykj0uNAOygUwQRQ0DwEbGlJYbehRgS1FFXw+9ZiGGdHNIF1/QWYr0z0FLExo0btdhW1hVxfykCVutBJSVDa0ER0GxLzFAUlCKHXGThgjAXGaQozHkRWRCBgogoGREhCGiYmRBRjSSxofShLXoQEQuIWniIiAq4jxjVeVaQqE2AugJuElKLHGqiYJNIV8Umqv1oLUhBN2Caa5UidAVsjKlfuXKlObFSRL8ZdYtxt912W8nVWk9PMY4BiloX6i/GAVBBrCywhAUG0L874PMCr66OcwycA468wgWB6MPARkkREE1lDQisndIiMABYBOSOdYcEpFYeIGIABD4BaUroE2IbkVYiEgy2CaBF6LTQ4AoAt/qLcVr/ISWipxgXGNN45513GleuXPGTlh76cRzVsq7pp0uG1v9zYVjUcnRobUGtHym3EARBEYkXVHKYOc+IC0oEouStlTyI5IU5J2JzAI7LyFojcIXF0Y8SgIIGCQ1YIEZGEVUQicYvgtF/SEjA6OO5YgXFEpBFwlA/ABCQUAAQBojGl9Wyg28MtkWwrcCTyAoRtVWShGnFdd2msK/fNR1jWlqO9h1HK6CtcUDvBS8TAvpYfXdDplwuLziOs0BECyYMC4CYD61dUEsPEfOImAdrcxYgp98Bg2vFugTkALBrrXUIHSMg6gFaO0IRS4iGmMNrxk7kiIhlAFIy1APUEyxLaI0xIQAFDBwaNOoJgXqBAfDBGF9E2o6I1m18x5gVYV5h111h5pUwDFfq9frKXG/IxAXGgwcP0kMPPUR3Ajjt229XYN0IfIBcXmWH2WW1eJHoY4mMUckR4zCzQWJitWUXDTIjghOBbxVj1SQx0S6VQKiCLxKIJSMsTFrXsYg2tIghEYVkrcaBgNQjiIK2kgAQkWCMCfJvvRVcBghfeuklPnjwoEraRI9JeECqASs5W7duxa1bt5rS22/TO5UKlctlk2+1TDOXI8dxyPV9s2IMERGadpuQoth8zdijaMssNq+1Q5YFaznI5WwYhlz0fW4XCrZer9vbPI8bGzbwhQsX7IULF2QaIA8DZOYEpGLrBmz8/zo0gug5H2e5AAAAAElFTkSuQmCC"},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"},on:{click:e.onGenericLinkClick}},[e.isDebugPopupEnabled?n("DebugPopup"):e._e(),e.isUpdatePending?n("AppUpdatePending",{on:{"update-clicked":e.onUpdateApp}}):e._e(),e.isLoginMode?n("AppLogin",{on:{success:e.onLoginSuccess,failure:e.onLoginFailure}}):e._e(),e.isBootstrapMode?n("AppBootstrap",{on:{success:e.onBootstrapSuccess,failure:e.onBootstrapFailure}}):e._e(),e.isMainMode?n("AppMain",{on:{"poll-interval-update":e.onPollIntervalUpdate}}):e._e()],1)},s=[],r=n("1da1"),o=n("9558"),c=n("d4ec"),u=n("bee2"),l=n("262e"),d=n("2caf"),p=(n("96cf"),n("ac1f"),n("466d"),n("9ab4")),h=n("1b40"),v=n("5530"),g=n("51c2"),f=n.n(g),m=n("b85c"),b=(n("2ca0"),n("cb29"),n("99af"),n("d81d"),n("c740"),n("a434"),n("1276"),n("7db0"),"tunnelbanejakten."),k=function(e,t){console.log("Set",e,JSON.stringify(t)),document.cookie="".concat(b).concat(e,"=").concat(t,";max-age=").concat(604800,";samesite;secure")},y=function(e){document.cookie="".concat(b).concat(e,"=;max-age=0;expires=0;samesite;secure")},O=function(e){var t=document.cookie.split("; "),n=t.find((function(t){return t.startsWith("".concat(b).concat(e,"="))}));if(n){var a=n.split("=")[1];return a||null}return null},A=n("3835"),j=n("9072"),C=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("5319"),n("a15b"),n("fb6a"),n("25f0"),"api-token"),E=function(e){k(C,e)},S=function(){y(C)},I=function(){return O(C)},w=function(){return!!I()};function P(e){var t=e.split(".")[1],n=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(n).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}var R,T,_=function(){var e=I();if(e){var t=P(e);if(t.group_key)return t.group_key}return null},N=n("1344"),L=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(e,a,i){var s;return Object(c["a"])(this,n),s=t.call(this,e),s.status=a,s.payload=i,s}return n}(Object(j["a"])(Error)),U=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this,"User not signed in")}return n}(Object(j["a"])(Error)),M=Object(N["a"])(),x=0,D=0,B=2e3,Q=new Map,F=function(e){var t=I();if(!t)throw new U;return"".concat(e,"?token=").concat(t)},q=function(e){return e instanceof FormData?{body:e,contentType:""}:e?{body:JSON.stringify(e),contentType:"application/json"}:{contentType:""}},G=function(e){var t="".concat(e.method,"__").concat(e.endpoint);return Q.set(t,e),V(),x=setTimeout(z,B),t},V=function(){x&&(clearTimeout(x),x=0)},H=function(e){Q.delete(e),0===Q.size&&V()},K=function(e){e.onStart&&M.on("start",e.onStart),e.onFailure&&M.on("failed",e.onFailure),e.onSuccess&&M.on("succeeded",e.onSuccess)},W=function(e){e.onStart&&M.off("start",e.onStart),e.onFailure&&M.off("failed",e.onFailure),e.onSuccess&&M.off("succeeded",e.onSuccess)},z=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:V(),t=Q.entries(),n=Object(m["a"])(t),e.prev=3,n.s();case 5:if((a=n.n()).done){e.next=22;break}return i=Object(A["a"])(a.value,2),s=i[0],r=i[1],o={key:s,callerKey:r.callerKey},M.emit("start",o),e.prev=9,e.next=12,Z(r);case 12:c=e.sent,M.emit("succeeded",Object(v["a"])(Object(v["a"])({},o),{},{response:c})),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](9),M.emit("failed",Object(v["a"])(Object(v["a"])({},o),{},{error:e.t0}));case 19:Q.delete(s);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](3),n.e(e.t1);case 27:return e.prev=27,n.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,24,27,30],[9,16]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.text());case 4:return e.prev=4,e.t0=e["catch"](0),e.abrupt("return","");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){return e+D},X=function(e,t,n){var a=parseInt(n.headers.get("Tuja-Timing-Request-Start")||"0",10),i=parseInt(n.headers.get("Tuja-Timing-Request-End")||"0",10);if(a&&i){var s=e+(t-e)/2,r=a+(i-a)/2;D=s-r}},Z=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,r,o,c,u,l,d,p,h,v,g,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=!t.unauthenticated,i=a?F(t.endpoint):t.endpoint,s=q(t.payload),r=s.body,o=s.contentType,c=new Headers,u={method:null!==(n=t.method)&&void 0!==n?n:"GET",mode:"cors",headers:c},r&&(u.body=r),o&&c.set("Content-Type",o),l=Date.now(),e.next=11,fetch(i,u);case 11:if(d=e.sent,p=Date.now(),X(l,p,d),!d.ok){e.next=22;break}return e.next=17,Y(d);case 17:return h=e.sent,v=h?JSON.parse(h):null,e.abrupt("return",{status:d.status,payload:v});case 22:return e.next=24,Y(d);case 24:throw g=e.sent,f=g?JSON.parse(g):null,new L("Serverfel ".concat(d.status,"."),d.status,f);case 27:e.next=32;break;case 29:throw e.prev=29,e.t0=e["catch"](0),e.t0;case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),$="true",ee="false",te="debug-map",ne="debug-console",ae="form-auto-save",ie="post_answer__",se=function(e){return e.startsWith(ie)?parseInt(e.substring(ie.length)):0},re=function(e){return ie+e};(function(e){e[e["PENDING"]=0]="PENDING",e[e["FAILURE"]=1]="FAILURE",e[e["SUCCESS"]=2]="SUCCESS",e[e["USER_INTERACTION_REQUIRED"]=3]="USER_INTERACTION_REQUIRED"})(R||(R={})),function(e){e[e["NONE"]=0]="NONE",e[e["BY_QUESTION_GROUP"]=1]="BY_QUESTION_GROUP",e[e["BY_QUESTION"]=2]="BY_QUESTION"}(T||(T={}));var oe={deviceTest:{connectivity:{status:R.PENDING},camera:{status:R.PENDING},location:{status:R.PENDING}},configuration:{positioning:{showUnavailableStations:!1,highAccuracyThreshold:100,highAccuracyTimeout:30,stalePositionTimeout:120},uploads:{maxFileSize:5},updates:{configPollInterval:5},messages:{infoPageContent:"Ingen information just nu.",startPageContent:"Ingen information just nu."},views:{checkin:!1,answer:!0,map:!0,tickets:!0,duels:!0,deviceTest:!0,info:!0},answer:{questionGrouping:T.NONE}},eventLog:{events:Array(10).fill(null),cursorPosition:-1},debugSettings:{map:O(te)===$,console:O(ne)===$},autoSave:O(ae)===$,profile:{groupKey:null,authCode:null,groupName:null,groupPortalLink:null,groupAppLink:null,baseAppLink:null,categoryName:null,countCompeting:null,countFollower:null,countTeamContact:null},answers:{questionGroups:[],lastFetchTimestamp:0}},ce={state:a["a"].observable(oe),setDeviceTestStatus:function(e,t,n){console.log("Set status for ".concat(e," to ").concat(t," with message '").concat(n,"'.")),Oe(ue.DEVICE_TEST,"set","status",{test:e,status:R[t]}),this.state.deviceTest[e].status=t,this.state.deviceTest[e].statusMessage=n},setConfiguration:function(e){this.state.configuration=e},setProfile:function(e){this.state.profile=e},addEvent:function(e){this.state.eventLog.cursorPosition=(this.state.eventLog.cursorPosition+1)%this.state.eventLog.events.length,this.state.eventLog.events[this.state.eventLog.cursorPosition]=e},getEvents:function(){for(var e=this.state.eventLog,t=e.events,n=e.cursorPosition,a=[],i=0;i<t.length;i++){var s=(n+1+t.length+i)%t.length,r=t[s];r&&a.push(r)}return a},setDebugMap:function(e){this.state.debugSettings.map=e,k(te,e?$:ee)},setDebugConsole:function(e){this.state.debugSettings.console=e,k(ne,e?$:ee)},setFormAutoSave:function(e){this.state.autoSave=e,k(ae,e?$:ee)},setQuestionGroupsCheckedNow:function(){this.state.answers.lastFetchTimestamp=Date.now()},updateQuestion:function(e){var t,n=Object(m["a"])(this.state.answers.questionGroups);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.questions.findIndex((function(t){return t.id===e.id}));if(-1!==i)return void a.questions.splice(i,1,e)}}catch(s){n.e(s)}finally{n.f()}},setAnswerQuestionGroups:function(e){this.state.answers.questionGroups=e}};K({onSuccess:function(e){var t=se(e.callerKey||"");if(t){var n=e.response.payload;ce.updateQuestion(Object(v["a"])(Object(v["a"])({},n),{},{id:t}))}}});var ue,le,de=ce,pe="54c17b41239a85a677f42e300b537848",he="0.23.1";(function(e){e[e["APP"]=0]="APP",e[e["DEVICE_TEST"]=1]="DEVICE_TEST",e[e["LOCATION"]=2]="LOCATION",e[e["MAP"]=3]="MAP",e[e["FORM"]=4]="FORM",e[e["CAMERA"]=5]="CAMERA",e[e["AUTH"]=6]="AUTH",e[e["MISC"]=7]="MISC"})(ue||(ue={})),function(e){e[e["DEBUG"]=0]="DEBUG",e[e["INFO"]=1]="INFO",e[e["WARNING"]=2]="WARNING",e[e["ERROR"]=3]="ERROR"}(le||(le={}));var ve=!1,ge=function(){f.a.getInstance().init(pe),ve=!0},fe=function(){var e=_();e?f.a.getInstance().setUserId(e):f.a.getInstance().setUserId(null),e},me=function(e){var t=(new f.a.Identify).set("competitionKey",e.competition_key||"").set("groupKey",e.group_key||"").set("groupName",e.group_name||"").set("userKey",e.user_key||"");f.a.getInstance().identify(t)},be=function(e){var t=e.type,n=e.eventObject,a=e.eventVerb,i=e.props,s=e.level;if(s!==le.DEBUG&&pe){var r=a.toLowerCase()+" "+n.toLowerCase(),o=ue[t].toLowerCase()+": "+r,c=Object(v["a"])(Object(v["a"])({},i),{},{appVersion:he,actionCategory:ue[t].toLowerCase(),actionName:r});ve||ge(),fe(),f.a.getInstance().logEvent(o,c)}},ke=function(e){console.log(Object(v["a"])(Object(v["a"])({},e),{},{type:ue[e.type].toLowerCase()})),de.addEvent(e)},ye=function(){return ve||ge(),f.a.getInstance().options.deviceId},Oe=function(e,t,n,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:le.INFO,s={level:i,timestamp:Date.now(),type:e,eventVerb:t,eventObject:n,props:a};ke(s),be(s)},Ae=300,je=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isUpdatePending=!1,e.isUpdating=!1,e.pendingRegistration=null,e.currentRegistration=null,e.checkUpdateTimer=0,e.checkUpdateInterval=Ae,e}return Object(u["a"])(n,[{key:"created",value:function(){document.addEventListener("serviceWorkerRegistered",this.onServiceWorkerRegistrered,{once:!0}),document.addEventListener("serviceWorkerUpdate",this.onServiceWorkerUpdated,{once:!0}),navigator.serviceWorker.addEventListener("controllerchange",this.onControllerChange)}},{key:"beforeDestroy",value:function(){0!==this.checkUpdateTimer&&clearInterval(this.checkUpdateTimer)}},{key:"onControllerChange",value:function(){this.isUpdating||(this.isUpdating=!0,window.location.reload())}},{key:"onServiceWorkerUpdated",value:function(e){Oe(ue.APP,"prompt","update"),this.isUpdatePending=!0,this.pendingRegistration=e.detail}},{key:"onServiceWorkerRegistrered",value:function(e){0===this.checkUpdateTimer&&(this.currentRegistration=e.detail,this.scheduleUpdateCheck())}},{key:"checkForUpdate",value:function(){Oe(ue.APP,"check","update"),this.currentRegistration.update(),this.scheduleUpdateCheck()}},{key:"scheduleUpdateCheck",value:function(){this.checkUpdateTimer&&clearTimeout(this.checkUpdateTimer),this.checkUpdateTimer=setTimeout(this.checkForUpdate,1e3*this.checkUpdateInterval)}},{key:"refreshApplication",value:function(){Oe(ue.APP,"install","update"),this.isUpdatePending=!1,this.pendingRegistration&&this.pendingRegistration.waiting&&this.pendingRegistration.waiting.postMessage({type:"SKIP_WAITING"})}},{key:"setCheckUpdateInterval",value:function(e){e!==this.checkUpdateInterval&&(this.checkUpdateInterval=e)}}]),n}(h["e"]);je=Object(p["a"])([h["a"]],je);var Ce=je,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.cssClasses},[n("div",{staticClass:"event-log"},e._l(e.events,(function(t,a){return n("div",{key:t.timestamp+"-"+a,staticClass:"event"},[n("div",{class:"event-header event-level-"+t.level},[n("span",{staticClass:"event-type"},[e._v(e._s(t.type))]),e._v(" "+e._s(" ")+" "),n("span",{staticClass:"event-name"},[e._v(e._s(t.eventVerb)+" "+e._s(t.eventObject))])]),n("div",{staticClass:"event-details"},[n("pre",[e._v(e._s(t.props))])])])})),0),n("div",{staticClass:"button"},[n("IconButton",{attrs:{icon:"debug",type:"secondary"},on:{click:e.onToggleExpanded}})],1)])},Se=[],Ie=n("ade3"),we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.buttonClass,attrs:{type:"button"},on:{click:e.onClick}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:e.actualIconName,size:e.actualIconSize}})],1)},Pe=[],Re=(n("caad"),n("2532"),n("b64b"),{CLOSE:"times",CAMERA:"camera",TRASH:"trash-alt",SWITCH:"sync-alt",DEBUG:"bug"}),Te={PRIMARY:"primary",SECONDARY:"secondary"},_e={NORMAL:"2x",HUGE:"3x"},Ne=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onClick",value:function(){return!0}},{key:"actualIconName",get:function(){return Re[this.icon.toUpperCase()]}},{key:"actualIconSize",get:function(){var e;return _e[null===(e=this.size)||void 0===e?void 0:e.toUpperCase()]||_e.NORMAL}},{key:"buttonClass",get:function(){return"icon-button size-".concat(this.size," type-").concat(this.type)}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])({validator:function(e){return Object.keys(_e).includes(e.toUpperCase())}})],Ne.prototype,"size",void 0),Object(p["a"])([Object(h["d"])({required:!0,validator:function(e){return Object.keys(Re).includes(e.toUpperCase())}})],Ne.prototype,"icon",void 0),Object(p["a"])([Object(h["d"])({default:Te.PRIMARY,validator:function(e){return Object.keys(Te).includes(e.toUpperCase())}})],Ne.prototype,"type",void 0),Object(p["a"])([Object(h["b"])("click")],Ne.prototype,"onClick",null),Ne=Object(p["a"])([Object(h["a"])({components:{}})],Ne);var Le,Ue=Ne,Me=Ue,xe=(n("4a22"),n("2877")),De=Object(xe["a"])(Me,we,Pe,!1,null,"0d0621e2",null),Be=De.exports,Qe=(Le={},Object(Ie["a"])(Le,le.INFO,"info"),Object(Ie["a"])(Le,le.DEBUG,"debug"),Object(Ie["a"])(Le,le.WARNING,"warning"),Object(Ie["a"])(Le,le.ERROR,"error"),function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isExpanded=!1,e}return Object(u["a"])(n,[{key:"events",get:function(){return de.getEvents().map((function(e){return Object(v["a"])(Object(v["a"])({},e),{},{props:JSON.stringify(e.props,null,2),type:ue[e.type].toLowerCase(),level:le[e.level].toLowerCase()})}))}},{key:"cssClasses",get:function(){return"debug-window "+(this.isExpanded?"expanded":"collapsed")}},{key:"onToggleExpanded",value:function(){this.isExpanded=!this.isExpanded}}]),n}(h["e"]));Qe=Object(p["a"])([Object(h["a"])({components:{IconButton:Be}})],Qe);var Fe=Qe,qe=Fe,Ge=(n("4463"),Object(xe["a"])(qe,Ee,Se,!1,null,"74bd3601",null)),Ve=Ge.exports,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-version-container"},[e._m(0),n("Button",{attrs:{pending:e.isUpdateClicked,label:"Uppdatera nu"},on:{click:e.onUpdateApp}}),e._m(1)],1)},Ke=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Det finns en "),n("strong",[e._v("ny version")]),e._v(" av den här sidan. ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("small",[e._v("Spara dina svar innan du uppdaterar.")])])}],We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader"},[n("div",{class:e.wrapperClasses},[e._m(0)]),e.message?n("div",{staticClass:"message"},[e._v(" "+e._s(e.message)+" ")]):e._e()])},ze=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lds-ring"},[n("div"),n("div"),n("div"),n("div")])}],Ye=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"wrapperClasses",get:function(){return"size-".concat(this.size," color-").concat(this.white?"white":"black")}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Ye.prototype,"message",void 0),Object(p["a"])([Object(h["d"])()],Ye.prototype,"white",void 0),Object(p["a"])([Object(h["d"])({default:"normal"})],Ye.prototype,"size",void 0),Ye=Object(p["a"])([Object(h["a"])({components:{}})],Ye);var Je,Xe,Ze=Ye,$e=Ze,et=(n("76c8"),Object(xe["a"])($e,We,ze,!1,null,"43ee558d",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:e.buttonClass,attrs:{type:"button"},on:{click:e.onClick}},[n("span",{staticClass:"button-content"},[e.icon?n("span",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:e.icon,size:"1x"}})],1):e._e(),n("span",{staticClass:"label"},[e._v(e._s(e.label))]),n("span",{staticClass:"spinner"},[n("Loader",{attrs:{size:"small",white:e.isPrimary}})],1)])])},at=[];(function(e){e["PRIMARY"]="primary",e["SECONDARY"]="secondary"})(Je||(Je={})),function(e){e["NORMAL"]="normal",e["HUGE"]="huge"}(Xe||(Xe={}));var it=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onClick",value:function(){if(!this.pending)return this.$emit("click"),!0}},{key:"isPrimary",get:function(){return this.type===Je.PRIMARY}},{key:"buttonClass",get:function(){return"type-".concat(this.type," size-").concat(this.size," pending-").concat(this.pending?"yes":"no"," width-").concat(this.wide?"full":"auto")}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],it.prototype,"label",void 0),Object(p["a"])([Object(h["d"])()],it.prototype,"pending",void 0),Object(p["a"])([Object(h["d"])({default:Je.PRIMARY})],it.prototype,"type",void 0),Object(p["a"])([Object(h["d"])({default:Xe.NORMAL})],it.prototype,"size",void 0),Object(p["a"])([Object(h["d"])({default:!1})],it.prototype,"wide",void 0),Object(p["a"])([Object(h["d"])()],it.prototype,"icon",void 0),it=Object(p["a"])([Object(h["a"])({components:{Loader:tt}})],it);var st=it,rt=st,ot=(n("b12a"),Object(xe["a"])(rt,nt,at,!1,null,"15ca3829",null)),ct=ot.exports,ut=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isUpdateClicked=!1,e}return Object(u["a"])(n,[{key:"onUpdateApp",value:function(){this.isUpdateClicked=!0,this.$emit("update-clicked")}}]),n}(h["e"]);ut=Object(p["a"])([Object(h["a"])({name:"AppUpdatePending",components:{Loader:tt,Button:ct}})],ut);var lt,dt,pt,ht=ut,vt=ht,gt=(n("ad54"),Object(xe["a"])(vt,He,Ke,!1,null,"4ab52ee8",null)),ft=gt.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-login"}},[e.isSubmitting?n("div",[e.errorMessage?e._e():n("Loader",{attrs:{message:"Vänta lite..."}}),e.errorMessage?n("Message",{attrs:{message:e.errorMessage,type:"failure"}}):e._e()],1):e._e(),e.isSubmitting?e._e():n("Card",[n("h2",[e._v("Inloggning")]),e.isGroupKeySet?e._e():n("div",[n("p",[e._v("Be någon som är inloggad att gå till sidan Mitt lag i appen. Koden visas där.")]),n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"Lagets PIN-kod",type:"number",pattern:"[0-9]*"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("Button",{attrs:{pending:e.isSubmitting,wide:!0,label:"Logga in",type:"primary"},on:{click:e.onSubmitPassword}}),e.errorMessage?n("Message",{attrs:{message:e.errorMessage,type:"failure"}}):e._e()],1)])],1)},bt=[],kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.containerClass},[e.icon?n("div",{staticClass:"icon"},[n("font-awesome-icon",{style:{color:e.iconColor},attrs:{icon:e.icon,size:"2x"}})],1):e._e(),n("div",{staticClass:"content"},[e.header?n("div",{staticClass:"header"},[e.headerIcon?n("font-awesome-icon",{attrs:{icon:e.headerIcon,size:"1x"}}):e._e(),e._v(" "+e._s(e.header)+" ")],1):e._e(),e.message?n("div",{staticClass:"message"},[e._v(" "+e._s(e.message)+" ")]):e._e(),e.isExtraContentDefined?n("div",{staticClass:"extra-content"},[e._t("default")],2):e._e()])])},yt=[];(function(e){e["INFO"]="info",e["SUCCESS"]="success",e["FAILURE"]="failure"})(pt||(pt={}));var Ot=(lt={},Object(Ie["a"])(lt,pt.INFO,"info-circle"),Object(Ie["a"])(lt,pt.SUCCESS,"check-circle"),Object(Ie["a"])(lt,pt.FAILURE,"exclamation-triangle"),lt),At=(dt={},Object(Ie["a"])(dt,pt.INFO,"#7c8da1"),Object(Ie["a"])(dt,pt.SUCCESS,"#85a17c"),Object(Ie["a"])(dt,pt.FAILURE,"#bd8383"),dt),jt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"containerClass",get:function(){return"message-container type-".concat(this.type)}},{key:"icon",get:function(){return Ot[this.type]}},{key:"iconColor",get:function(){return At[this.type]}},{key:"isExtraContentDefined",get:function(){return!!this.$slots.default}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],jt.prototype,"message",void 0),Object(p["a"])([Object(h["d"])()],jt.prototype,"header",void 0),Object(p["a"])([Object(h["d"])()],jt.prototype,"headerIcon",void 0),Object(p["a"])([Object(h["d"])({default:pt.INFO})],jt.prototype,"type",void 0),jt=Object(p["a"])([Object(h["a"])({components:{}})],jt);var Ct=jt,Et=Ct,St=(n("8495"),Object(xe["a"])(Et,kt,yt,!1,null,"6e56c114",null)),It=St.exports,wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"card card-vertical-margin-"+e.verticalMargin},[e._t("default")],2)},Pt=[],Rt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])({default:!1})],Rt.prototype,"verticalMargin",void 0),Rt=Object(p["a"])([h["a"]],Rt);var Tt,_t=Rt,Nt=_t,Lt=(n("297c"),Object(xe["a"])(Nt,wt,Pt,!1,null,"3b1099dc",null)),Ut=Lt.exports,Mt="https://www.tunnelbanejakten.se";(function(e){e[e["NOT_STARTED"]=0]="NOT_STARTED",e[e["PENDING"]=1]="PENDING",e[e["SUCCESS"]=2]="SUCCESS",e[e["FAILURE"]=3]="FAILURE"})(Tt||(Tt={}));var xt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.password="",e.tokenStatus=Tt.NOT_STARTED,e.errorMessage="",e}return Object(u["a"])(n,[{key:"isSubmitting",get:function(){return this.tokenStatus===Tt.PENDING}},{key:"isGroupKeySet",get:function(){return!!this.$route.query.id}},{key:"onSubmitPassword",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.logIn({code:this.password});case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setToken",value:function(e){e?E(e):S()}},{key:"logIn",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.errorMessage="",this.tokenStatus=Tt.PENDING,n=t.code?"login_with_pin":"login_with_link",e.prev=3,e.next=6,Z({endpoint:"".concat(Mt,"/wp-json/tuja/v1/tokens"),method:"POST",payload:t,unauthenticated:!0});case 6:a=e.sent,i=a.payload,this.setToken(i.token),this.tokenStatus=Tt.SUCCESS,this.$emit("success"),Oe(ue.AUTH,"succeeded",n),e.next=33;break;case 14:if(e.prev=14,e.t0=e["catch"](3),!(e.t0 instanceof L)){e.next=30;break}this.setToken(null),this.tokenStatus=Tt.FAILURE,e.t1=e.t0.status,e.next=400===e.t1?22:401===e.t1?24:26;break;case 22:return this.errorMessage="Något stämmer inte. Har du rätt antal siffror?",e.abrupt("break",28);case 24:return this.errorMessage="Det gick inte att logga in. Dubbelkolla PIN-koden.",e.abrupt("break",28);case 26:return this.errorMessage="Något gick fel. Kontakta kundtjänst om det händer igen.",e.abrupt("break",28);case 28:e.next=31;break;case 30:this.errorMessage="Något gick fel. "+(e.t0.message?"Fel: ".concat(e.t0.message):"");case 31:Oe(ue.AUTH,"failed",n,{message:this.errorMessage}),this.$emit("failure");case 33:case"end":return e.stop()}}),e,this,[[3,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=String(this.$route.params.authId||""),!t){e.next=4;break}return e.next=4,this.logIn({id:t});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["e"]);xt=Object(p["a"])([Object(h["a"])({name:"AppLogin",components:{Button:ct,Loader:tt,Card:Ut,Message:It}})],xt);var Dt=xt,Bt=Dt,Qt=(n("53d7"),Object(xe["a"])(Bt,mt,bt,!1,null,"62ce6e21",null)),Ft=Qt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"bootstrapping"}},[n("Loader")],1)},Gt=[],Vt={by_group:T.BY_QUESTION_GROUP,by_question:T.BY_QUESTION},Ht=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n="https://www.tunnelbanejakten.se",e.next=4,Z({endpoint:"".concat(n,"/wp-json/tuja/v1/configuration")});case 4:return a=e.sent,i=a.payload,s={positioning:{showUnavailableStations:i.app.positioning.show_unavailable_stations,highAccuracyThreshold:i.app.positioning.high_accuracy_threshold,highAccuracyTimeout:i.app.positioning.high_accuracy_timeout,stalePositionTimeout:i.app.positioning.stale_position_timeout},uploads:{maxFileSize:i.app.uploads.max_file_size},updates:{configPollInterval:i.app.updates.config_poll_interval},messages:{infoPageContent:i.app.messages.info_page_content,startPageContent:i.app.messages.start_page_content},views:{checkin:i.app.views.checkin,answer:i.app.views.answer,map:i.app.views.map,tickets:i.app.views.tickets,duels:i.app.views.duels,deviceTest:i.app.views.device_test,info:i.app.views.info},answer:{questionGrouping:null!==(t=Vt[i.app.answer.question_grouping])&&void 0!==t?t:T.NONE}},e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0 instanceof L?Oe(ue.APP,"failed","app_configuration",{message:"Could not fetch app configuration. Reason: Non-ok http response.",status:"Http response ".concat(e.t0.status,".")}):Oe(ue.APP,"failed","app_configuration",{message:"Could not fetch app configuration. Reason: ".concat(e.t0.message,".")}),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Kt=(n("b0c0"),function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a="https://www.tunnelbanejakten.se",e.next=4,Z({endpoint:"".concat(a,"/wp-json/tuja/v1/profile")});case 4:return i=e.sent,s=i.payload,r={groupKey:null!==(t=s.key)&&void 0!==t?t:"",authCode:null!==(n=s.auth_code)&&void 0!==n?n:"",groupName:s.name,groupPortalLink:s.portal_link,groupAppLink:s.app_link,baseAppLink:s.app_base_link,categoryName:s.category_name,countCompeting:s.count_competing,countFollower:s.count_follower,countTeamContact:s.count_team_contact},e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0 instanceof L?Oe(ue.APP,"failed","user_profile",{message:"Could not fetch user profile. Reason: Non-ok http response.",status:"Http response ".concat(e.t0.status,".")}):Oe(ue.APP,"failed","user_profile",{message:"Could not fetch user profile. Reason: ".concat(e.t0.message,".")}),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()),Wt=2e3,zt=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.bootstrapTimemoutTimer=0,e}return Object(u["a"])(n,[{key:"fetchConfiguration",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.bootstrapTimemoutTimer=setTimeout((function(){n.$emit("failure"),Oe(ue.APP,"failed","app_configuration",{message:"It took more than ".concat(Wt," ms to load the config")})}),Wt),e.next=3,Ht();case 3:t=e.sent,de.setConfiguration(t),this.stopTimer();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopTimer",value:function(){this.bootstrapTimemoutTimer&&(clearTimeout(this.bootstrapTimemoutTimer),this.bootstrapTimemoutTimer=0)}},{key:"fetchProfile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kt();case 2:a=e.sent,me({group_key:null!==(t=a.groupKey)&&void 0!==t?t:"unknown",group_name:null!==(n=a.groupName)&&void 0!==n?n:"unknown"}),de.setProfile(a);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.fetchConfiguration(),this.fetchProfile()]);case 3:this.$emit("success"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),Oe(ue.APP,"failed","app_bootstrap",{message:"Could not bootstrap app. Reason: ".concat(e.t0.message)}),this.$emit("failure");case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.stopTimer()}}]),n}(h["e"]);zt=Object(p["a"])([Object(h["a"])({name:"AppBootstrap",components:{Loader:tt}})],zt);var Yt=zt,Jt=Yt,Xt=(n("4d08"),Object(xe["a"])(Jt,qt,Gt,!1,null,null,null)),Zt=Xt.exports,$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-main-wrapper"}},[n("div",{attrs:{id:"nav-container"},on:{click:e.onMenuChildClick}},[n("div",{attrs:{id:"nav-items"}},[e.isCheckinPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/checkin"}},[e._v(" Incheckning ")]):e._e(),e.isAnswerPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/answers"}},[e._v(" Svara ")]):e._e(),e.isMapPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/map"}},[e._v(" Karta ")]):e._e(),e.isTicketsPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/tickets"}},[e._v(" Biljetter ")]):e._e(),e.isDuelsPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/duels"}},[e._v(" Dueller ")]):e._e(),e.isDeviceTestPageEnabled?n("router-link",{attrs:{to:e.routerPathPrefix()+"/devicetest"}},[e._v(" Mobiltest ")]):e._e()],1),n("div",{class:e.showMoreButtonClass,attrs:{id:"nav-more"},on:{click:e.toggleShowMore}},[n("font-awesome-icon",{style:{color:"white"},attrs:{icon:"bars",size:"1x"}})],1),e.showMore?n("div",{attrs:{id:"nav-more-container"}},[n("div",{attrs:{id:"nav-more-cover"},on:{click:e.toggleShowMore}}),n("div",{attrs:{id:"nav-more-items"}},[n("div",[n("router-link",{attrs:{tag:"div",to:e.routerPathPrefix()+"/profile"}},[n("font-awesome-icon",{attrs:{icon:"users",size:"1x"}}),e._v(" Mitt lag ")],1)],1),n("div",[e.isInfoPageEnabled?n("router-link",{attrs:{tag:"div",to:e.routerPathPrefix()+"/about"}},[n("font-awesome-icon",{attrs:{icon:"info-circle",size:"1x"}}),e._v(" Info & Hjälp ")],1):e._e()],1),n("div",[n("router-link",{attrs:{tag:"div",to:e.routerPathPrefix()+"/settings"}},[n("font-awesome-icon",{attrs:{icon:"cog",size:"1x"}}),e._v(" Inställningar ")],1)],1),n("div",[n("router-link",{attrs:{tag:"div",to:e.routerPathPrefix()+"/"}},[n("font-awesome-icon",{attrs:{icon:"home",size:"1x"}}),e._v(" Startsidan ")],1)],1)])]):e._e()]),n("router-view")],1)},en=[],tn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.confPollTimer=0,e.showMore=!1,e}return Object(u["a"])(n,[{key:"routerPathPrefix",value:function(){var e=_();return e?"/".concat(e):""}},{key:"isAnswerPageEnabled",get:function(){return de.state.configuration.views.answer}},{key:"isCheckinPageEnabled",get:function(){return de.state.configuration.views.checkin}},{key:"isMapPageEnabled",get:function(){return de.state.configuration.views.map}},{key:"isDeviceTestPageEnabled",get:function(){return de.state.configuration.views.deviceTest}},{key:"isTicketsPageEnabled",get:function(){return de.state.configuration.views.tickets}},{key:"isDuelsPageEnabled",get:function(){return de.state.configuration.views.duels}},{key:"isInfoPageEnabled",get:function(){return de.state.configuration.views.info}},{key:"showMoreButtonClass",get:function(){return this.showMore?"show":"hide"}},{key:"toggleShowMore",value:function(){this.showMore=!this.showMore}},{key:"onMenuChildClick",value:function(e){var t=e.target.closest("div.router-link-active");t&&(this.showMore=!1)}},{key:"fetchConfiguration",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ht();case 3:t=e.sent,de.setConfiguration(t),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"pollJob",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchConfiguration();case 2:t=de.state.configuration.updates.configPollInterval||60,this.$emit("poll-interval-update",t),console.log("Will fetch configuration in ".concat(t," seconds.")),this.confPollTimer=setTimeout(this.pollJob,1e3*t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initConfigurationPoll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.pollJob();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initConfigurationPoll();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.confPollTimer&&clearTimeout(this.confPollTimer)}}]),n}(h["e"]);tn=Object(p["a"])([Object(h["a"])({name:"AppMain",components:{Button:ct,Loader:tt}})],tn);var nn,an=tn,sn=an,rn=(n("4442"),Object(xe["a"])(sn,$t,en,!1,null,"fc5d187c",null)),on=rn.exports;(function(e){e[e["INIT"]=0]="INIT",e[e["LOGIN"]=1]="LOGIN",e[e["BOOTSTRAP"]=2]="BOOTSTRAP",e[e["MAIN"]=3]="MAIN"})(nn||(nn={}));var cn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.mode=nn.INIT,e}return Object(u["a"])(n,[{key:"isLoginMode",get:function(){return this.mode===nn.LOGIN}},{key:"isBootstrapMode",get:function(){return this.mode===nn.BOOTSTRAP}},{key:"isMainMode",get:function(){return this.mode===nn.MAIN}},{key:"onGenericLinkClick",value:function(e){var t=e.srcElement,n=null===t||void 0===t?void 0:t.href;if(n){var a,i,s,r,c,u=null!==(a=null===(i=n.match(Object(o["a"])(/^([a-z]+):/,{proto:1})))||void 0===i||null===(s=i.groups)||void 0===s?void 0:s.proto)&&void 0!==a?a:"unknown",l=null!==(r=null===(c=t.closest("div.page"))||void 0===c?void 0:c.title)&&void 0!==r?r:"unknown",d=t.textContent;Oe(ue.MISC,"click","link",{href:n,protocol:u,page:l,text:d})}}},{key:"onUpdateApp",value:function(){this.refreshApplication()}},{key:"onPollIntervalUpdate",value:function(e){this.setCheckUpdateInterval(e)}},{key:"onLoginSuccess",value:function(){this.mode=nn.BOOTSTRAP}},{key:"onLoginFailure",value:function(){}},{key:"onBootstrapSuccess",value:function(){this.mode=nn.MAIN}},{key:"onBootstrapFailure",value:function(){this.mode=nn.MAIN}},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:w()?this.mode=nn.BOOTSTRAP:this.mode=nn.LOGIN,Oe(ue.APP,"load","page");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isDebugPopupEnabled",get:function(){return de.state.debugSettings.console}}]),n}(Object(h["c"])(Ce));cn=Object(p["a"])([Object(h["a"])({name:"App",components:{DebugPopup:Ve,AppUpdatePending:ft,AppLogin:Ft,AppBootstrap:Zt,AppMain:on}})],cn);var un=cn,ln=un,dn=(n("3a45"),Object(xe["a"])(ln,i,s,!1,null,"638ef5ec",null)),pn=dn.exports,hn=n("9483");Object(hn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(e){console.log("Service worker has been registered."),setInterval((function(){document.dispatchEvent(new CustomEvent("serviceWorkerRegistered",{detail:e}))}),1e3)},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){Oe(ue.APP,"found","update"),console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("serviceWorkerUpdate",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var vn=n("8c4f"),gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Info & Hjälp"}},[n("Card",{attrs:{verticalMargin:!1},domProps:{innerHTML:e._s(e.bodyText)}})],1)},fn=[],mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page",attrs:{title:e.title}},[n("div",{class:e.bodyClasses},[e._t("default")],2),e.isFooterDefined?n("div",{staticClass:"footer"},[n("div",[e._t("footer")],2)]):e._e()])},bn=[],kn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"isFooterDefined",get:function(){return!!this.$slots.footer}},{key:"bodyClasses",get:function(){return this.noPadding?"body no-padding":"body"}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],kn.prototype,"title",void 0),Object(p["a"])([Object(h["d"])()],kn.prototype,"noPadding",void 0),kn=Object(p["a"])([h["a"]],kn);var yn=kn,On=yn,An=(n("9d89"),Object(xe["a"])(On,mn,bn,!1,null,"8168605a",null)),jn=An.exports,Cn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"bodyText",get:function(){return de.state.configuration.messages.infoPageContent}}]),n}(h["e"]);Cn=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut}})],Cn);var En=Cn,Sn=En,In=(n("25aa"),Object(xe["a"])(Sn,gn,fn,!1,null,"41d0f554",null)),wn=In.exports,Pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Testa din mobil"}},[n("StepbystepProgress",{attrs:{"current-index":e.currentIndex,statuses:e.statuses}}),n("div",{staticClass:"test-component-wrapper"},[n("Card",{attrs:{verticalMargin:!1}},[n(e.currentComponent(),{tag:"component"}),e.isStatusMessageAvailable?n("Message",{attrs:{header:e.statusHeader,message:e.statusMessage,type:e.statusType}}):e._e()],1)],1),n("div",{staticClass:"step-navigation"},[n("div",{staticClass:"step-navigate-button"},[e.isPreviousStepAvailable()?n("Button",{attrs:{label:"Bakåt",type:"secondary"},on:{click:e.previous}}):e._e()],1),n("div",{staticClass:"step-navigate-button"},[e.isNextStepAvailable()?n("Button",{attrs:{label:"Fortsätt"},on:{click:e.next}}):e._e()],1)])],1)},Rn=[],Tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"markers"},e._l(e.stepStatuses,(function(t){return n("div",{key:t.key,class:e.getClass(t.active,t.status)})})),0)])},_n=[],Nn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"stepStatuses",get:function(){var e=this;return this.statuses.map((function(t,n){return{key:n,status:t,active:e.currentIndex===n}}))}},{key:"getClass",value:function(e,t){return"".concat(e?"active":"inactive"," ").concat(String(R[t]).toLowerCase())}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Nn.prototype,"currentIndex",void 0),Object(p["a"])([Object(h["d"])({default:[]})],Nn.prototype,"statuses",void 0),Nn=Object(p["a"])([Object(h["a"])({components:{}})],Nn);var Ln=Nn,Un=Ln,Mn=(n("e4e8"),Object(xe["a"])(Un,Tn,_n,!1,null,"63f5b85c",null)),xn=Mn.exports,Dn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Bn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Här kan du testa om din mobil kommer fungera under tävlingen.")]),n("p",[e._v("Genom att gå vidare godkänner du att vi sparar data i enlighet med vår "),n("a",{attrs:{href:""}},[e._v("Integritetspolicy")]),e._v(".")])])}],Qn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onStart",value:function(){return!0}}]),n}(h["e"]);Qn=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],Qn);var Fn=Qn,qn=Fn,Gn=Object(xe["a"])(qn,Dn,Bn,!1,null,null,null),Vn=Gn.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Flera uppgifter under tävlingen besvaras med foton.")]),n("Button",{attrs:{label:e.startTestButtonLabel,type:e.startTestButtonType,size:"huge",wide:!0},on:{click:e.onStartTest}}),e.isCameraShown?n("Fullscreen",{on:{close:e.onEndTest}},[n("div",{staticClass:"camera-container"},[n("CameraComponent",{on:{captured:e.onCaptured}})],1),e.img?n("div",{staticClass:"review"},[n("img",{staticClass:"captured-photo",attrs:{src:e.img}}),n("ConfirmationOverlay",{attrs:{question:"Blev bilden bra?","accept-label":"Ja","reject-label":"Nej"},on:{accept:e.onAcceptPhoto,reject:e.onRejectPhoto}})],1):e._e()]):e._e()],1)},Kn=[],Wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"overlay-container"},[n("p",[e._v(e._s(e.question))]),n("div",{staticClass:"buttons"},[e.acceptLabel?n("Button",{attrs:{label:e.acceptLabel},on:{click:e.onUserAccept}}):e._e(),e.rejectLabel?n("Button",{attrs:{label:e.rejectLabel,type:"secondary"},on:{click:e.onUserReject}}):e._e()],1)])},zn=[],Yn=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onUserAccept",value:function(){return!0}},{key:"onUserReject",value:function(){return!0}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Yn.prototype,"question",void 0),Object(p["a"])([Object(h["d"])()],Yn.prototype,"acceptLabel",void 0),Object(p["a"])([Object(h["d"])()],Yn.prototype,"rejectLabel",void 0),Object(p["a"])([Object(h["b"])("accept")],Yn.prototype,"onUserAccept",null),Object(p["a"])([Object(h["b"])("reject")],Yn.prototype,"onUserReject",null),Yn=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],Yn);var Jn=Yn,Xn=Jn,Zn=(n("dae1"),Object(xe["a"])(Xn,Wn,zn,!1,null,"3f9f64a2",null)),$n=Zn.exports,ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullscreen"},[n("div",{staticClass:"background"}),n("div",{staticClass:"content"},[e.isCloseEventListenerDefined?n("div",{staticClass:"top-buttons"},[n("IconButton",{attrs:{icon:"close",type:"secondary"},on:{click:e.onClose}})],1):e._e(),e._t("default")],2)])},ta=[],na=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"isCloseEventListenerDefined",get:function(){return this.$listeners&&this.$listeners.close}},{key:"onClose",value:function(){return!0}}]),n}(h["e"]);Object(p["a"])([Object(h["b"])("close")],na.prototype,"onClose",null),na=Object(p["a"])([Object(h["a"])({components:{IconButton:Be}})],na);var aa=na,ia=aa,sa=(n("7d8a"),Object(xe["a"])(ia,ea,ta,!1,null,"badc4858",null)),ra=sa.exports,oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.containerClass},[e.isStartedState?e._e():n("div",{staticClass:"state"},[e.isFailedState?e._e():n("span",[e._v(" "+e._s(e.stateDescription)+" ")]),e.isFailedState?n("Message",{attrs:{header:"Oj då",message:e.stateDescription,type:"failure"}}):e._e()],1),n("CameraViewfinder",{ref:"webcam",on:{stopped:e.onStopped,"video-live":e.onVideoLive}}),n("div",{staticClass:"buttons"},[e.isStartedState?n("IconButton",{attrs:{icon:"camera",size:"huge"},on:{click:e.capture}}):e._e(),e.isStartedState&&e.environmentDeviceId&&e.selfieDeviceId?n("IconButton",{attrs:{icon:"switch",type:"secondary"},on:{click:e.switchCamera}}):e._e()],1)],1)},ca=[],ua=(n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("video",{ref:"video",attrs:{height:"100%",width:"100%",src:e.source,autoplay:!0,playsinline:!0}})}),la=[],da=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.source=null,e.ctx=null,e.canvas=null,e}return Object(u["a"])(n,[{key:"beforeDestroy",value:function(){this.stop()}},{key:"loadSrcStream",value:function(e){var t=this,n=this.$refs.video;"srcObject"in n?n.srcObject=e:this.source=window.HTMLMediaElement.srcObject(e),n.onloadedmetadata=function(){t.$emit("video-live",e)},this.$emit("started",e)}},{key:"stopStreamedVideo",value:function(e){var t=this,n=e.srcObject,a=n.getTracks();a.forEach((function(e){e.stop(),t.$emit("stopped",n),t.$refs.video.srcObject=null,t.source=null}))}},{key:"stop",value:function(){var e=this.$refs.video;e&&e.srcObject&&this.stopStreamedVideo(e)}},{key:"pause",value:function(){var e=this.$refs.video;e&&e.srcObject&&e.pause()}},{key:"resume",value:function(){var e=this.$refs.video;e&&e.srcObject&&e.play()}},{key:"capture",value:function(){return this.getCanvas().toDataURL("image/jpeg")}},{key:"getCanvas",value:function(){var e=this.$refs.video;if(e&&!this.ctx){var t=document.createElement("canvas");t.height=e.videoHeight,t.width=e.videoWidth,this.canvas=t,this.ctx=t.getContext("2d")}var n=this.ctx,a=this.canvas;return n.drawImage(e,0,0,a.width,a.height),a}}]),n}(h["e"]);da=Object(p["a"])([Object(h["a"])({components:{}})],da);var pa,ha,va=da,ga=va,fa=(n("280c"),Object(xe["a"])(ga,ua,la,!1,null,"9af308ec",null)),ma=fa.exports;(function(e){e[e["INIT"]=0]="INIT",e[e["CHECKING"]=1]="CHECKING",e[e["STARTING"]=2]="STARTING",e[e["STARTED"]=3]="STARTED",e[e["FAILED"]=4]="FAILED"})(pa||(pa={})),function(e){e[e["ANY"]=0]="ANY",e[e["USER"]=1]="USER",e[e["ENVIRONMENT"]=2]="ENVIRONMENT"}(ha||(ha={}));var ba=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.state=pa.INIT,e.failedMessage="",e}return Object(u["a"])(n,[{key:"containerClass",get:function(){return"container state-".concat(pa[this.state].toLowerCase())}},{key:"selectedDevice",value:function(e){this._selectedDeviceId=e,e?this.startCamera(e):(this.setFailed("Ingen kamera vald"),this.stopCamera())}},{key:"isInitState",get:function(){return this.state===pa.INIT}},{key:"isCheckingState",get:function(){return this.state===pa.CHECKING}},{key:"isStartingState",get:function(){return this.state===pa.STARTING}},{key:"isStartedState",get:function(){return this.state===pa.STARTED}},{key:"isFailedState",get:function(){return this.state===pa.FAILED}},{key:"stateDescription",get:function(){switch(this.state){case pa.INIT:return"Kollar om det ens kan finnas några kameror";case pa.CHECKING:return"Kollar vilka kameror som finns";case pa.STARTING:return"Kameran startas";case pa.STARTED:return"Kameran är igång";case pa.FAILED:return this.failedMessage||"Oj, något gick fel"}}},{key:"capture",value:function(){var e=this.$refs.webcam;if(e){var t=e.capture();Oe(ue.CAMERA,"capture","photo",{byteCount:t.length},le.INFO),this.$emit("captured",t)}}},{key:"beforeDestroy",value:function(){this.stopCamera()}},{key:"mounted",value:function(){this.initBrowserApi()}},{key:"switchCamera",value:function(){var e=this._selectedDeviceId===this.environmentDeviceId?this.selfieDeviceId:this.environmentDeviceId;this.selectedDevice(e)}},{key:"onVideoLive",value:function(e){this.state=pa.STARTED,e.getVideoTracks().forEach((function(e){var t=e.getSettings();Oe(ue.CAMERA,"start","camera",Object(v["a"])({},t),le.INFO)}))}},{key:"setFailed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.state=pa.FAILED,this.failedMessage=e}},{key:"onStopped",value:function(e){Oe(ue.CAMERA,"stopped","camera",{},le.DEBUG)}},{key:"createLegacyGetUserMediaWrapper",value:function(){return function(e){var t=navigator,n=t.getUserMedia||t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia||t.oGetUserMedia;return n?new Promise((function(t,a){n.call(navigator,e,t,a)})):Promise.reject(new Error("getUserMedia is not implemented in this browser."))}}},{key:"initBrowserApi",value:function(){var e=navigator;void 0===e.mediaDevices&&(e.mediaDevices={}),void 0===e.mediaDevices.getUserMedia&&(e.mediaDevices.getUserMedia=this.createLegacyGetUserMediaWrapper()),this.testMediaAccess()}},{key:"translateGetUserMediaError",value:function(e){switch(e){case"AbortError":return"Kameran kunde inte startas";case"NotAllowedError":return"Kameran kan inte användas. Godkände du att den här sidan får använda kameran?";case"NotFoundError":return"Vi hittade ingen kamera";case"NotReadableError":return"Kameran kunde inte startas";case"OverconstrainedError":return"Din kamera uppfyller tyvärr inte våra krav";case"SecurityError":return"Kameran har blockerats av säkerhetsskäl. Testa med en annan webbläsare eller kontrollera dina kamerainställningar.";case"TypeError":return"Din kamera uppfyller tyvärr inte våra krav";default:return"Ett oväntat fel uppstod"}}},{key:"findCamera",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=this.getCameraConstraints({cameraType:t}),e.next=4,navigator.mediaDevices.getUserMedia(n);case 4:return a=e.sent,i=a.getVideoTracks().map((function(e){return e.getSettings().deviceId})).shift(),a.getTracks().forEach((function(e){return e.stop()})),Oe(ue.CAMERA,"completed","camera lookup",{deviceId:i,constraints:JSON.stringify(n)},le.INFO),e.abrupt("return",i);case 11:return e.prev=11,e.t0=e["catch"](0),s=e.t0.name,r=e.t0.code,o=e.t0.message,Oe(ue.CAMERA,"failed","camera lookup",{name:s,code:r,message:o},le.WARNING),this.setFailed(this.translateGetUserMediaError(String(s))),e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"testMediaAccess",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.state=pa.CHECKING,e.prev=1,e.next=4,this.findCamera(ha.ENVIRONMENT);case 4:return t=e.sent,e.next=7,this.findCamera(ha.USER);case 7:if(n=e.sent,!t||!n){e.next=14;break}this.environmentDeviceId=t,this.selfieDeviceId=n,this.selectedDevice(this.environmentDeviceId),e.next=24;break;case 14:if(!t&&!n){e.next=20;break}this.environmentDeviceId=t,this.selfieDeviceId=n,this.selectedDevice(this.environmentDeviceId||this.selfieDeviceId),e.next=24;break;case 20:return e.next=22,this.findCamera(ha.ANY);case 22:a=e.sent,a?(this.environmentDeviceId=a,this.selfieDeviceId=void 0,this.selectedDevice(this.environmentDeviceId)):(this.environmentDeviceId=void 0,this.selfieDeviceId=void 0,this.selectedDevice(void 0),Oe(ue.CAMERA,"failed","camera lookup",{message:"No camera detected."},le.WARNING),this.setFailed("Hittade ingen lämplig kamera"));case 24:Oe(ue.CAMERA,"list","camera lookup",{environmentDeviceId:this.environmentDeviceId,selfieDeviceId:this.selfieDeviceId,selectedDeviceId:this._selectedDeviceId},le.DEBUG),e.next=31;break;case 27:e.prev=27,e.t0=e["catch"](1),Oe(ue.CAMERA,"failed","camera lookup",e.t0,le.ERROR),this.setFailed("Ett oväntat problem uppstod");case 31:case"end":return e.stop()}}),e,this,[[1,27]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopCamera",value:function(){var e=this.$refs.webcam;e&&e.stop()}},{key:"getCameraConstraints",value:function(e){var t=e.deviceId,n=void 0===t?"":t,a=e.cameraType,i=void 0===a?ha.ANY:a,s={width:1280,height:720};return n&&(s.deviceId={exact:n}),i!==ha.ANY&&(s.facingMode=i===ha.USER?"user":"environment"),{video:s}}},{key:"startCamera",value:function(e){var t=this;this.state=pa.STARTING,Oe(ue.CAMERA,"set","camera",{deviceId:e},le.INFO),this.stopCamera();var n=this.getCameraConstraints({deviceId:e});navigator.mediaDevices.getUserMedia(n).then((function(e){var n=t.$refs.webcam;n&&n.loadSrcStream(e)})).catch((function(e){var n=e.code,a=e.message,i=e.name;Oe(ue.CAMERA,"failed","camera",{error:JSON.stringify(e),code:n,message:a,name:i},le.ERROR),t.setFailed(t.translateGetUserMediaError(String(i))),t.$emit("error",e)}))}}]),n}(h["e"]);ba=Object(p["a"])([Object(h["a"])({components:{CameraViewfinder:ma,Button:ct,IconButton:Be,Message:It}})],ba);var ka=ba,ya=ka,Oa=(n("8960"),Object(xe["a"])(ya,oa,ca,!1,null,"27ce294a",null)),Aa=Oa.exports,ja=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isCameraShown=!1,e.img="",e}return Object(u["a"])(n,[{key:"startTestButtonLabel",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.camera.status)?"Testa kamera":"Testa kamera igen"}},{key:"startTestButtonType",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.camera.status)?"primary":"secondary"}},{key:"onStartTest",value:function(){this.isCameraShown=!0,this.img=""}},{key:"onEndTest",value:function(){this.isCameraShown=!1}},{key:"onCaptured",value:function(e){this.img=e}},{key:"onRejectPhoto",value:function(){this.img=""}},{key:"onAcceptPhoto",value:function(){de.setDeviceTestStatus("camera",R.SUCCESS),this.onEndTest()}}]),n}(h["e"]);ja=Object(p["a"])([Object(h["a"])({components:{Button:ct,IconButton:Be,Fullscreen:ra,CameraComponent:Aa,ConfirmationOverlay:$n}})],ja);var Ca,Ea=ja,Sa=Ea,Ia=(n("6f20"),Object(xe["a"])(Sa,Hn,Kn,!1,null,"92f84d06",null)),wa=Ia.exports,Pa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(" Vissa uppgifter under tävlingen kräver att ni befinner er på vissa platser. Därför behöver vi få tillgång till din GPS. ")]),n("Button",{attrs:{wide:!0,size:"huge",label:e.startTestButtonLabel,type:e.startTestButtonType},on:{click:e.onStartTest}}),e.isTestStarted?n("Fullscreen",{on:{close:e.onDone}},[e.isPositioningPending?n("div",{staticClass:"waiting-container"},[n("div",[e._v(" "+e._s(e.geolocationMessage)+" ")])]):e._e(),e.isPositioningFailed?n("div",{staticClass:"waiting-container"},[n("div",[e._v(" "+e._s(e.geolocationMessage)+" ")]),n("div",[n("Button",{attrs:{label:"Ok"},on:{click:e.onDone}})],1)]):e._e(),e.isPositioningDone?n("div",{staticClass:"done-container"},[n("Map",{attrs:{markers:e.mapObjects}}),e.isAccuratePosition?n("ConfirmationOverlay",{attrs:{question:"Befinner du dig i den gröna cirkeln?","accept-label":"Ja","reject-label":"Nej"},on:{accept:e.onUserAccept,reject:e.onUserReject}}):e._e(),e.isAccuratePosition?e._e():n("ConfirmationOverlay",{attrs:{question:"Vi försöker ta reda på var du är. Håll ut.","reject-label":"Avbryt"},on:{reject:e.onUserReject}})],1):e._e()]):e._e()],1)},Ra=[],Ta=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"map-container"}})])}],Na=(n("4de4"),n("4e82"),n("ecee")),La=(n("6cc5"),n("e11e")),Ua=n.n(La);(function(e){e[e["HIGHEST"]=0]="HIGHEST",e[e["HIGH"]=1]="HIGH",e[e["MEDIUM"]=2]="MEDIUM",e[e["LOW"]=3]="LOW"})(Ca||(Ca={}));var Ma=function(e){var t=de.state.configuration.positioning.highAccuracyThreshold||parseInt("50",10),n=e<=t?Ca.HIGHEST:e<=1.5*t?Ca.HIGH:e<=3*t?Ca.MEDIUM:Ca.LOW;return console.log("Accuracy level for ".concat(e," when <").concat(t," m is high accuracy: ").concat(Ca[n])),n},xa=18,Da=function(e){switch(e){case Ca.HIGHEST:return 18;case Ca.HIGH:return 16;case Ca.MEDIUM:return 15;default:return 13}},Ba=Ua.a.icon({iconUrl:n("4b18"),iconSize:[48,48],iconAnchor:[24,48],popupAnchor:[0,-34]}),Qa=Ua.a.icon({iconUrl:n("0b60"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Fa=Ua.a.icon({iconUrl:n("4262"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),qa=Ua.a.icon({iconUrl:n("12d8"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Ga=Ua.a.icon({iconUrl:n("4cc9"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Va=Ua.a.icon({iconUrl:n("cc1f"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Ha=Ua.a.icon({iconUrl:n("4cc9"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Ka=Ua.a.icon({iconUrl:n("5bbf"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),Wa=(Ua.a.icon({iconUrl:n("9565"),iconSize:[48,48],iconAnchor:[24,24],popupAnchor:[0,-34]}),function(e){return Ma(e)===Ca.HIGHEST?"green":Ma(e)===Ca.HIGH||Ma(e)===Ca.MEDIUM?"yellow":"orange"}),za=function e(){Object(c["a"])(this,e),this.latitude=0,this.longitude=0},Ya=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.meterAccuracy=0,e}return n}(za),Ja=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(Ya),Xa=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.timestamp=0,e}return n}(Ya),Za=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.id="",e.submitted=!1,e.isStation=!1,e}return Object(u["a"])(n,[{key:"key",get:function(){return"checkpoint-".concat(this.isStation?"s":"q","-").concat(this.submitted?"todo":"done","-").concat(this.id)}}]),n}(Ya),$a=function(e){Object(l["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(c["a"])(this,a),e=t.apply(this,arguments),e.mapObjects={},e.isUserPanning=!1,e}return Object(u["a"])(a,[{key:"applyDeadIconFix",value:function(){delete Ua.a.Icon.Default.prototype._getIconUrl,Ua.a.Icon.Default.mergeOptions({iconRetinaUrl:n("584d"),iconUrl:n("6397"),shadowUrl:n("e2b9")})}},{key:"onMarkerClicked",value:function(e){return e}},{key:"updateMarkers",value:function(e){var t=e.find((function(e){return e instanceof Ja}));this.updateStartPositionMarker(t);var n=e.filter((function(e){return e instanceof Xa}));this.updateUserPositionMarkers(n);var a=e.filter((function(e){return e instanceof Za}));this.updateCheckpointMarkers(a);var i=n.length?n[n.length-1]:null;i?(this.currentPosition=i,this.isUserPanning||this.panToCurrentPosition()):t&&(this.currentPosition=t,this.isUserPanning||this.panToCurrentPosition())}},{key:"markerIcon",value:function(e){return this.isDuelCheckpoint(e)?e.submitted?Ha:Va:e.isStation?e.submitted?Ga:qa:e.submitted?Fa:Qa}},{key:"isDuelCheckpoint",value:function(e){return!!e.duelName}},{key:"updateCheckpointMarkers",value:function(e){var t,n=this,a=[],i=Object(m["a"])(e);try{var s=function(){var e=t.value,i=[e.latitude,e.longitude],s=e.key;a.push(s);var r="".concat(s,"-accuracyCircle");a.push(r);var o=n.mapObjects[s];if(o)o.setLatLng(i);else{var c=n.markerIcon(e),u=Ua.a.marker(i,{icon:c,zIndexOffset:500});if(u.on("click",(function(){return n.onMarkerClicked(e)})),u.addTo(n.mapRef),n.mapObjects[s]=u,e.showAccuracyCircle){var l=Ua.a.circle(i,{stroke:!0,fill:!1,color:"#794794",weight:1,radius:e.meterAccuracy});l.addTo(n.mapRef),n.mapObjects[r]=l}}};for(i.s();!(t=i.n()).done;)s()}catch(r){i.e(r)}finally{i.f()}this.removeMapMarkers("checkpoint-",a)}},{key:"updateUserPositionMarkers",value:function(e){var t=this;e.sort((function(e,t){return e.timestamp-t.timestamp}));var n=[];e.forEach((function(a,i){var s=i===e.length-1,r=e.length-i,o=Math.max(.1,1-.15*r),c="userPosition-".concat(a.timestamp,"-").concat(s),u="".concat(c,"-accuracyCircle");n.push(c,u);var l=t.mapObjects[c];if(l){if(!s){l.setStyle({opacity:o});var d=t.mapObjects[u];d&&d.setStyle({opacity:o})}}else{var p=[a.latitude,a.longitude],h={stroke:!0,fill:!1,color:Wa(a.meterAccuracy),opacity:o,weight:1},v=s?Ua.a.marker(p,{icon:Ba,zIndexOffset:1e3}):Ua.a.polyline([p,[e[i+1].latitude,e[i+1].longitude]],h);if(v.addTo(t.mapRef),t.mapObjects[c]=v,a.showAccuracyCircle){var g=Ua.a.circle(p,h);g.setRadius(a.meterAccuracy),g.addTo(t.mapRef),t.mapObjects[u]=g}}})),this.removeMapMarkers("userPosition-",n)}},{key:"updateStartPositionMarker",value:function(e){var t=this,n=this.mapObjects.startPosition;if(e||n)if(e&&!n){var a=Ua.a.marker([e.latitude,e.longitude],{icon:Ka,zIndexOffset:0});a.on("click",(function(){return t.onMarkerClicked(e)})),a.addTo(this.mapRef),this.mapObjects.startPosition=a}else!e&&n?n.remove():n.setLatLng([e.latitude,e.longitude]);else;}},{key:"removeMapMarkers",value:function(e,t){var n=this;Object.keys(this.mapObjects).filter((function(n){return n.substring(0,e.length)===e&&!t.includes(n)})).forEach((function(e){n.mapObjects[e].remove(),delete n.mapObjects[e]}))}},{key:"panToCurrentPosition",value:function(){var e=Da(Ma(this.currentPosition.meterAccuracy||0));this.mapRef.off("movestart",this.onUserMapPan),this.mapRef.setZoom(e),this.mapRef.panTo([this.currentPosition.latitude,this.currentPosition.longitude],{animate:!0,duration:.5}),this.mapRef.on("movestart",this.onUserMapPan)}},{key:"onUserMapPan",value:function(){this.isUserPanning=!0,this.panLockControl.addTo(this.mapRef)}},{key:"onRecenterMap",value:function(){this.isUserPanning=!1,this.panLockControl.remove(),this.panToCurrentPosition()}},{key:"onShowWorld",value:function(){var e,t,n,a,i=this.markers.reduce((function(e,t){var n=e.topLeft,a=e.bottomRight;return(null===n||n.latitude<t.latitude&&n.longitude>t.longitude)&&(e.topLeft=t),(null===a||a.latitude>t.latitude&&a.longitude<t.longitude)&&(e.bottomRight=t),e}),{topLeft:null,bottomRight:null});this.mapRef.fitBounds(Ua.a.latLngBounds(Ua.a.latLng(null===(e=i.topLeft)||void 0===e?void 0:e.latitude,null===(t=i.topLeft)||void 0===t?void 0:t.longitude),Ua.a.latLng(null===(n=i.bottomRight)||void 0===n?void 0:n.latitude,null===(a=i.bottomRight)||void 0===a?void 0:a.longitude)))}},{key:"createControlExtension",value:function(e,t,n,a){return Ua.a.Control.extend({onAdd:function(){var i=Ua.a.DomUtil.create("div");Ua.a.DomUtil.addClass(i,"leaflet-bar"),Ua.a.DomUtil.addClass(i,"leaflet-control");var s=Ua.a.DomUtil.create("a",null,i);s.id=e,s.role="button",s.title=t,s.ariaLabel=t,s.href="#",s.style.lineHeight=2*xa+"px",Ua.a.DomEvent.on(s,"click",a);var r=Ua.a.DomUtil.create("i",null,s);return Ua.a.DomUtil.addClass(r,"fas"),Ua.a.DomUtil.addClass(r,n),r.style.fontSize=xa+"px",Na["b"].i2svg({node:s,callback:function(){return!0}}),i},onRemove:function(e){}})}},{key:"applyPanLockControlExtension",value:function(){Ua.a.Control.PanLock=this.createControlExtension("panLockButton","Re-center map","fa-crosshairs",this.onRecenterMap),Ua.a.control.panLock=function(e){return new Ua.a.Control.PanLock(e)}}},{key:"applyShowWorldControlExtension",value:function(){Ua.a.Control.ShowWorld=this.createControlExtension("showWorldButton","Zoom out to show everything","fa-globe",this.onShowWorld),Ua.a.control.showWorld=function(e){return new Ua.a.Control.ShowWorld(e)}}},{key:"initMap",value:function(){this.applyDeadIconFix(),this.applyPanLockControlExtension(),this.applyShowWorldControlExtension(),this.mapRef=Ua.a.map("map-container",{tap:!1}),Ua.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{zoom:15,id:"openstreetmap",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(this.mapRef),this.mapRef.on("movestart",this.onUserMapPan),this.panLockControl=Ua.a.control.panLock({position:"topleft"}),this.showWorldControl=Ua.a.control.showWorld({position:"topleft"}),this.showWorldControl.addTo(this.mapRef)}},{key:"mounted",value:function(){this.initMap(),this.updateMarkers(this.markers)}}]),a}(h["e"]);Object(p["a"])([Object(h["d"])()],$a.prototype,"markers",void 0),Object(p["a"])([Object(h["b"])("marker-clicked")],$a.prototype,"onMarkerClicked",null),Object(p["a"])([Object(h["f"])("markers")],$a.prototype,"updateMarkers",null),$a=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],$a);var ei=$a,ti=ei,ni=(n("bec1"),Object(xe["a"])(ti,Ta,_a,!1,null,"66dd95b2",null)),ai=ni.exports,ii={UNKNOWN:"UNKNOWN",NO_BROWSER_API:"NO_BROWSER_API",NO_USER_APPROVAL:"NO_USER_APPROVAL",NO_POSITION:"NO_POSITION",NO_RESPONSE:"NO_RESPONSE",BROWSER_API_AVAILABLE:"BROWSER_API_AVAILABLE",LOCATION_REQUEST_INITIATED:"LOCATION_REQUEST_INITIATED",LOCATION_REQUEST_SUCCEEDED:"LOCATION_REQUEST_SUCCEEDED",LOCATION_REQUEST_FAILED:"LOCATION_REQUEST_FAILED"},si=[ii.NO_BROWSER_API,ii.NO_USER_APPROVAL,ii.NO_POSITION,ii.NO_RESPONSE,ii.LOCATION_REQUEST_SUCCEEDED,ii.LOCATION_REQUEST_FAILED],ri=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.geolocationStatus="",e.geolocationMessage="",e.currentPosition={latitude:0,longitude:0,meterAccuracy:0,timestamp:0},e.isTestStarted=!1,e.testStatus=R.USER_INTERACTION_REQUIRED,e.watchId=0,e}return Object(u["a"])(n,[{key:"startTestButtonLabel",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.location.status)?"Testa GPS":"Testa GPS igen"}},{key:"startTestButtonType",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.location.status)?"primary":"secondary"}},{key:"onStartTest",value:function(){this.isTestStarted=!0,this.geolocationStatus="geolocation"in navigator?ii.BROWSER_API_AVAILABLE:ii.NO_BROWSER_API}},{key:"onDone",value:function(){this.isTestStarted=!1,de.setDeviceTestStatus("location",this.testStatus)}},{key:"onUserAccept",value:function(){this.testStatus=R.SUCCESS,this.onDone()}},{key:"onUserReject",value:function(){this.testStatus=R.FAILURE,this.onDone()}},{key:"isAccuratePosition",get:function(){var e,t=(null===(e=this.currentPosition)||void 0===e?void 0:e.meterAccuracy)||0;return Ma(t)===Ca.HIGHEST}},{key:"isPositioningDone",get:function(){return this.testStatus===R.USER_INTERACTION_REQUIRED&&this.geolocationStatus===ii.LOCATION_REQUEST_SUCCEEDED}},{key:"isPositioningSuccessful",get:function(){return this.testStatus===R.SUCCESS}},{key:"isPositioningPending",get:function(){return this.testStatus===R.PENDING}},{key:"isPositioningFailed",get:function(){return this.testStatus===R.FAILURE}},{key:"mapObjects",get:function(){var e=new Xa;return e.meterAccuracy=this.currentPosition.meterAccuracy,e.latitude=this.currentPosition.latitude,e.longitude=this.currentPosition.longitude,e.showAccuracyCircle=!0,[e]}},{key:"beforeDestroy",value:function(){this.watchId&&navigator.geolocation.clearWatch(this.watchId)}},{key:"onStatusChange",value:function(e){var t=this;if(si.includes(e)){var n=10*Math.round(this.currentPosition.meterAccuracy/10),a=e===ii.LOCATION_REQUEST_SUCCEEDED?{accuracy:n}:{};Oe(ue.LOCATION,"set","status",Object(v["a"])({status:e},a))}switch(e){case ii.UNKNOWN:this.testStatus=R.PENDING,this.geolocationMessage="Vi vet inte om vi kan ta reda på din position.";break;case ii.NO_BROWSER_API:this.testStatus=R.FAILURE,this.geolocationMessage="Din webbläsare kan inte ta reda på din position.";break;case ii.NO_USER_APPROVAL:this.testStatus=R.FAILURE,this.geolocationMessage="Antingen är din GPS inte påslagen eller så blockerade du den.";break;case ii.NO_POSITION:this.testStatus=R.FAILURE,this.geolocationMessage="Det gick inte att fixera din position. Kanske åker du bil eller är på en plats med dålig mottagning?";break;case ii.NO_RESPONSE:this.testStatus=R.FAILURE,this.geolocationMessage="Det tog för lång tid att ta reda på din position så vi gav upp.";break;case ii.BROWSER_API_AVAILABLE:this.testStatus=R.PENDING,this.geolocationMessage="Vi jobbar på att ta reda på var du befinner dig.",this.geolocationStatus=ii.LOCATION_REQUEST_INITIATED,this.watchId=navigator.geolocation.watchPosition((function(e){var n=e.coords,a=n.accuracy,i=n.latitude,s=n.longitude;t.currentPosition.meterAccuracy=a,t.currentPosition.latitude=i,t.currentPosition.longitude=s,t.geolocationStatus=ii.LOCATION_REQUEST_SUCCEEDED}),(function(e){switch(e.code){case 1:t.geolocationStatus=ii.NO_USER_APPROVAL;break;case 2:t.geolocationStatus=ii.NO_POSITION;break;case 3:t.geolocationStatus=ii.NO_RESPONSE;break;default:t.geolocationStatus=ii.LOCATION_REQUEST_FAILED;break}}));break;case ii.LOCATION_REQUEST_INITIATED:this.testStatus=R.PENDING;break;case ii.LOCATION_REQUEST_SUCCEEDED:this.testStatus=R.USER_INTERACTION_REQUIRED,this.geolocationMessage="Vi tror oss veta var du befinner dig.";break;case ii.LOCATION_REQUEST_FAILED:this.testStatus=R.FAILURE,this.geolocationMessage="Av någon anledning kunde vi inte ta reda på din position.";break;default:this.testStatus=R.FAILURE,this.geolocationMessage="Okänd status.";break}}}]),n}(h["e"]);Object(p["a"])([Object(h["f"])("geolocationStatus")],ri.prototype,"onStatusChange",null),ri=Object(p["a"])([Object(h["a"])({components:{Button:ct,Map:ai,Fullscreen:ra,ConfirmationOverlay:$n}})],ri);var oi,ci,ui=ri,li=ui,di=(n("f952"),Object(xe["a"])(li,Pa,Ra,!1,null,"ab32831a",null)),pi=di.exports,hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("Så här gick det:")]),e._l(e.statuses,(function(e){return n("p",{key:e.key},[n("Message",{attrs:{message:e.message,header:e.header,headerIcon:e.headerIcon,type:e.messageType}})],1)}))],2)},vi=[],gi={connectivity:"Uppkoppling",camera:"Kamera",location:"Plats"},fi={connectivity:"wifi",camera:"camera",location:"map-marker-alt"},mi=(oi={},Object(Ie["a"])(oi,R.PENDING,"Testet gjordes inte klart"),Object(Ie["a"])(oi,R.USER_INTERACTION_REQUIRED,"Testet gjordes inte klart"),Object(Ie["a"])(oi,R.FAILURE,"Testet misslyckades"),Object(Ie["a"])(oi,R.SUCCESS,"Testet gick bra"),oi),bi=(ci={},Object(Ie["a"])(ci,R.PENDING,pt.INFO),Object(Ie["a"])(ci,R.USER_INTERACTION_REQUIRED,pt.INFO),Object(Ie["a"])(ci,R.FAILURE,pt.FAILURE),Object(Ie["a"])(ci,R.SUCCESS,pt.SUCCESS),ci),ki=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.state=de.state.deviceTest,e}return Object(u["a"])(n,[{key:"statuses",get:function(){var e=this;return Object.keys(this.state).map((function(t){return{key:t,header:gi[t],headerIcon:fi[t],message:mi[e.state[t].status],messageType:bi[e.state[t].status]}}))}}]),n}(h["e"]);ki=Object(p["a"])([Object(h["a"])({components:{Message:It}})],ki);var yi,Oi=ki,Ai=Oi,ji=Object(xe["a"])(Ai,hi,vi,!1,null,null,null),Ci=ji.exports,Ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v("För att allt ska fungera måste din mobil få kontakt med vår server.")]),e.isChecking?e._e():n("Button",{attrs:{label:e.startTestButtonLabel,type:e.startTestButtonType,size:"huge",wide:!0},on:{click:e.onStartTest}}),e.isChecking?n("p",[e._v(" "+e._s(e.message)+" ")]):e._e()],1)},Si=[];(function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["CHECKING"]=1]="CHECKING",e[e["CONNECTED"]=2]="CONNECTED",e[e["CONNECTED_AUTHENTICATED"]=3]="CONNECTED_AUTHENTICATED",e[e["INVALID_RESPONSE"]=4]="INVALID_RESPONSE",e[e["FAILED"]=5]="FAILED"})(yi||(yi={}));var Ii="https://www.tunnelbanejakten.se",wi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.backendStatus=yi.UNKNOWN,e.profilePayload=null,e}return Object(u["a"])(n,[{key:"isChecking",get:function(){return this.backendStatus===yi.CHECKING}},{key:"isCheckInitiated",get:function(){return this.backendStatus!==yi.UNKNOWN}},{key:"startTestButtonLabel",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.connectivity.status)?"Testa uppkopplingen":"Testa uppkopplingen igen"}},{key:"startTestButtonType",get:function(){return[R.PENDING,R.USER_INTERACTION_REQUIRED].includes(de.state.deviceTest.connectivity.status)?"primary":"secondary"}},{key:"message",get:function(){switch(this.backendStatus){case yi.UNKNOWN:return"Vi vet inte om vår server är vaken eller inte.";case yi.CHECKING:return"Vi kollar om du har kontakt med vår server.";case yi.CONNECTED:return"Du har kontakt med vår server.";case yi.CONNECTED_AUTHENTICATED:return"Du har kontakt med vår server. Vi ser också att du är inloggad som ".concat(this.profilePayload.name,".");case yi.INVALID_RESPONSE:return"Något är fel med vår server.";case yi.FAILED:return"Det gick inte att få kontakt med vår server."}}},{key:"onStartTest",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.backendStatus=yi.CHECKING,e.prev=1,e.next=4,Z({endpoint:"".concat(Ii,"/wp-json/tuja/v1/ping"),unauthenticated:!0});case 4:if(t=e.sent,n=t.payload,"ok"!==n.status){e.next=20;break}return e.prev=7,e.next=10,Z({endpoint:"".concat(Ii,"/wp-json/tuja/v1/profile")});case 10:a=e.sent,this.profilePayload=a.payload,this.backendStatus=yi.CONNECTED_AUTHENTICATED,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](7),e.t0 instanceof U?this.backendStatus=yi.CONNECTED:e.t0 instanceof L?this.backendStatus=yi.INVALID_RESPONSE:this.backendStatus=yi.FAILED;case 18:e.next=21;break;case 20:this.backendStatus=yi.INVALID_RESPONSE;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e["catch"](1),e.t1 instanceof L&&(this.backendStatus=yi.INVALID_RESPONSE),this.backendStatus=yi.FAILED;case 27:case"end":return e.stop()}}),e,this,[[1,23],[7,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStatusChange",value:function(e){this.message;switch(this.backendStatus){case yi.UNKNOWN:de.setDeviceTestStatus("connectivity",R.PENDING,this.message);break;case yi.CHECKING:de.setDeviceTestStatus("connectivity",R.PENDING,this.message);break;case yi.CONNECTED:de.setDeviceTestStatus("connectivity",R.SUCCESS,this.message);break;case yi.CONNECTED_AUTHENTICATED:de.setDeviceTestStatus("connectivity",R.SUCCESS,this.message);break;case yi.INVALID_RESPONSE:de.setDeviceTestStatus("connectivity",R.FAILURE,this.message);break;case yi.FAILED:de.setDeviceTestStatus("connectivity",R.FAILURE,this.message);break}}}]),n}(h["e"]);Object(p["a"])([Object(h["f"])("backendStatus")],wi.prototype,"onStatusChange",null),wi=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],wi);var Pi=wi,Ri=Pi,Ti=Object(xe["a"])(Ri,Ei,Si,!1,null,null,null),_i=Ti.exports,Ni=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.currentIndex=0,e.steps=[{label:"Intro",component:"Intro",stateKey:"intro"},{label:"Connectivity",component:"Connectivity",stateKey:"connectivity"},{label:"Camera",component:"Camera",stateKey:"camera"},{label:"Location",component:"Location",stateKey:"location"},{label:"Summary",component:"Summary",stateKey:"summary"}],e.state=de.state.deviceTest,e}return Object(u["a"])(n,[{key:"statuses",get:function(){return this.steps.map((function(e){e.stateKey;return R.PENDING}))}},{key:"currentComponent",value:function(){return this.steps[this.currentIndex].component}},{key:"isStatusMessageAvailable",get:function(){var e;switch(null===(e=this.state[this.steps[this.currentIndex].stateKey])||void 0===e?void 0:e.status){case R.SUCCESS:case R.FAILURE:return!0;default:return!1}}},{key:"statusType",get:function(){var e;switch(null===(e=this.state[this.steps[this.currentIndex].stateKey])||void 0===e?void 0:e.status){case R.SUCCESS:return pt.SUCCESS;case R.FAILURE:return pt.FAILURE;default:return pt.INFO}}},{key:"statusHeader",get:function(){var e;switch(null===(e=this.state[this.steps[this.currentIndex].stateKey])||void 0===e?void 0:e.status){case R.SUCCESS:return"Testet gick bra.";case R.FAILURE:return"Testet misslyckades.";default:return"Lite oklar status just nu..."}}},{key:"statusMessage",get:function(){var e;return null===(e=this.state[this.steps[this.currentIndex].stateKey])||void 0===e?void 0:e.statusMessage}},{key:"stepCount",value:function(){return this.steps.length}},{key:"next",value:function(){this.currentIndex++}},{key:"previous",value:function(){this.currentIndex--}},{key:"isPreviousStepAvailable",value:function(){return this.currentIndex>0}},{key:"isNextStepAvailable",value:function(){return this.currentIndex<this.stepCount()-1}}]),n}(h["e"]);Ni=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,StepbystepProgress:xn,Button:ct,Intro:Vn,Connectivity:_i,Camera:wa,Location:pi,Summary:Ci,Message:It}})],Ni);var Li=Ni,Ui=Li,Mi=(n("c051"),Object(xe["a"])(Ui,Pn,Rn,!1,null,"5cc185bc",null)),xi=Mi.exports,Di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Biljetter"}},[n("div",[n("Card",{attrs:{verticalMargin:!1}},[n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"Skriv lösenord här...",type:"text"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("Button",{attrs:{pending:e.isSubmitting,wide:!0,label:"Byt lösenord mot biljetter",type:"primary"},on:{click:e.onSubmitPassword}}),e.redeemSuccessMessage?n("Message",{attrs:{message:e.redeemSuccessMessage,type:"success"}}):e._e(),e.redeemErrorTitle?n("Message",{attrs:{header:e.redeemErrorTitle,message:e.redeemErrorMessage,type:"failure"}}):e._e()],1),n("Card",{attrs:{verticalMargin:!0}},[e.isLoading?n("div",[n("Loader")],1):e._e(),e.isLoading||e.listError?e._e():n("div",[e._l(e.tickets,(function(e){return n("Ticket",{key:e.key,attrs:{ticket:e}})})),0===e.tickets.length?n("div",[n("p",[e._v("Ni har ännu inga biljetter.")]),n("p",[e._v("När ni löser startchiffret och när ni varit på bemannade kontroller får ni lösenord som kan bytas mot biljetter.")])]):e._e()],2),e.listError?n("Message",{attrs:{header:"Oj då",message:e.listError}}):e._e()],1)],1)])},Bi=[],Qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.ticket.key,class:e.wrapperClass},[n("div",{staticClass:"ticket",style:{"background-color":e.ticket.colour}},[n("p",{staticClass:"station-name"},[e._v("Biljett till kontroll "),n("strong",[e._v(e._s(e.ticket.stationName))]),e.ticket.markerName?n("span",[e._v(" vid "),n("strong",[e._v(e._s(e.ticket.markerName))])]):e._e(),e._v(":")]),n("p",{staticClass:"ticket-word-explanation"},[e._v("När ni kommer till kontrollen ska ni visa den här biljetten på er mobil eller säga detta lösen:")]),n("p",{staticClass:"ticket-word",style:{"font-size":this.wordFontSize+"vw"}},[e._v(e._s(e.ticket.word))])]),e.isUsed?n("div",{staticClass:"used-ticket-wrapper"},[n("div",{staticClass:"used-ticket-explanation"},[e._v(" Ni har gjort denna kontroll. ")])]):e._e()])},Fi=[],qi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"wordFontSize",get:function(){return Math.min(25,100/this.ticket.word.length)}},{key:"isUsed",get:function(){return this.ticket.isUsed}},{key:"wrapperClass",get:function(){return"ticket-wrapper "+(this.isUsed?"ticket-used":"ticket-unused")}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],qi.prototype,"ticket",void 0),qi=Object(p["a"])([Object(h["a"])({components:{}})],qi);var Gi=qi,Vi=Gi,Hi=(n("2f0d"),Object(xe["a"])(Vi,Qi,Fi,!1,null,"e083d370",null)),Ki=Hi.exports,Wi="https://www.tunnelbanejakten.se",zi=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.isSubmitting=!1,e.listError="",e.redeemErrorTitle="",e.redeemErrorMessage="",e.password="",e.tickets=[],e.markersPayload=[],e.redeemSuccessMessage="",e}return Object(u["a"])(n,[{key:"bodyText",get:function(){return de.state.configuration.messages.infoPageContent}},{key:"mapTicketsResponse",value:function(e,t){return e.map((function(e){var n;return{key:e.station.random_id,colour:e.colour,word:e.word,stationName:e.station.name,markerName:null===(n=t.find((function(t){return t.link_station_id===e.station.id})))||void 0===n?void 0:n.name,isUsed:e.is_used}}))}},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,Promise.all([Z({endpoint:"".concat(Wi,"/wp-json/tuja/v1/tickets")}),Z({endpoint:"".concat(Wi,"/wp-json/tuja/v1/map/markers")})]);case 4:t=e.sent,n=Object(A["a"])(t,2),a=n[0],i=n[1],204===i.status?(this.listError="Ert lag har inte blivit tilldelad en karta, och ni måste ha en karta för att kunna se era biljetter. Kontakta kundtjänst så löser de detta.",this.markersPayload=[]):this.markersPayload=i.payload,this.tickets=this.mapTicketsResponse(a.payload,this.markersPayload),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](1);case 12:this.isLoading=!1;case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmitPassword",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSubmitting=!0,this.redeemErrorTitle="",this.redeemErrorMessage="",this.redeemSuccessMessage="",e.prev=4,e.next=7,Z({endpoint:"".concat(Wi,"/wp-json/tuja/v1/tickets/request"),method:"POST",payload:{password:this.password}});case 7:t=e.sent,n=t.payload,n.added_tickets?this.redeemSuccessMessage=n.added_tickets>1?"Ni har fått ".concat(n.added_tickets," biljetter till."):"Ni har fått en biljett till.":(this.redeemErrorTitle="Inga nya biljetter",this.redeemErrorMessage="Detta bör betyda att ni redan fått alla biljetter som går att få. Kontakta kundtjänst om något verkar galet."),this.tickets=this.mapTicketsResponse(n.all_tickets,this.markersPayload),this.password="",e.next=36;break;case 14:if(e.prev=14,e.t0=e["catch"](4),!(e.t0 instanceof L)){e.next=34;break}e.t1=e.t0.status,e.next=400===e.t1?20:404===e.t1?23:409===e.t1?26:29;break;case 20:return this.redeemErrorTitle="Du missade något",this.redeemErrorMessage="Du knappade inte in ett lösenord.",e.abrupt("break",32);case 23:return this.redeemErrorTitle="Lösenordet är inte giltigt",this.redeemErrorMessage="Dubbelkolla stavningen.",e.abrupt("break",32);case 26:return this.redeemErrorTitle="Gammalt lösenord",this.redeemErrorMessage="Ni har redan använt det här lösenordet en gång. Ni kan inte få fler biljetter från just detta lösenord.",e.abrupt("break",32);case 29:return this.redeemErrorTitle="Ett oväntat fel uppstod",this.redeemErrorMessage="Kontakta kundtjänst om felet återkommer.",e.abrupt("break",32);case 32:e.next=36;break;case 34:this.redeemErrorTitle="Ett oväntat fel uppstod",this.redeemErrorMessage="Kontakta kundtjänst om felet återkommer.";case 36:this.isSubmitting=!1;case 37:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["e"]);zi=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Loader:tt,Message:It,Button:ct,Ticket:Ki}})],zi);var Yi=zi,Ji=Yi,Xi=(n("72ff"),Object(xe["a"])(Ji,Di,Bi,!1,null,"5db1cf0d",null)),Zi=Xi.exports,$i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Karta","no-padding":!0}},[n("div",{staticClass:"map-container"},[n("MapComponent",{attrs:{markers:e.mapObjects},on:{"marker-clicked":e.onSelectCheckpoint}}),n("div",{staticClass:"overlay-container"},[e.nearbyCheckpointMarkers.length?n("div",{staticClass:"task-status"},[n("div",{staticClass:"task-message"},[n("p",[e._v(e._s(e.atLocationText))]),n("div",[n("Button",{attrs:{label:"Visa"},on:{click:e.onReopenCheckpoint}})],1)])]):e._e(),e.isLoadingMarkers?n("div",{staticClass:"task-status"},[n("div",{staticClass:"task-icon"},[n("Loader",{attrs:{size:"small"}})],1),n("div",{staticClass:"task-message"},[e._v(" "+e._s(e.markersStateMessage)+" ")])]):e._e(),e.isPositioningFailed?n("div",[n("Message",{attrs:{header:"Problem med kartan",headerIcon:"map-marker-alt",message:e.positioningStateMessage,type:"failure"}},[n("div",{staticClass:"message-button-container"},[n("Button",{attrs:{label:"Testa igen",icon:"redo",wide:!1},on:{click:e.initLocationListener}}),n("Button",{attrs:{label:"Hur aktiverar jag GPS?",icon:"info-circle",wide:!1},on:{click:e.onToggleEnableLocationServicesHelp}})],1)])],1):e._e(),e.isPositioningFailed?e._e():n("div",{staticClass:"task-status"},[n("div",{staticClass:"task-icon"},[e.isPositionAcquired?n("AccuracyIcon",{attrs:{accuracy:e.accuracyLevel}}):e._e(),e.isPositionAcquired?e._e():n("Loader",{attrs:{size:"small"}})],1),n("div",{staticClass:"task-message"},[e._v(" "+e._s(e.positioningStateMessage)+" ")])])]),e.isCheckpointSelectorShown?n("Fullscreen",{on:{close:e.onCloseCheckpointSelector}},[n("CheckpointSelector",{attrs:{markers:e.nearbyCheckpointMarkers},on:{selected:e.onSelectCheckpoint}})],1):e._e(),e.isCheckpointPreviewShown?n("Fullscreen",{on:{close:e.onCloseCheckpoint}},[e.selectedCheckpoint.isStation?e._e():n("div",{staticClass:"preview-container"},[n("Message",{attrs:{header:"Du är för långt bort",headerIcon:"map-marker-alt",message:"För att se den här uppgiften måste ni tar er till denna plats.",type:"info"}}),e.selectedCheckpoint.duelName?n("Message",{attrs:{headerIcon:"angle-double-down",header:e.duelInfoTitle(e.selectedCheckpoint),message:e.duelInfoMessage(e.selectedCheckpoint),type:"info"}}):e._e()],1),e.selectedCheckpoint.isStation?n("CheckpointStation",{attrs:{pointsReported:e.selectedCheckpoint.submitted,locationLabel:e.selectedCheckpoint.label,ticket:e.selectedTicket}}):e._e()],1):e._e(),e.isCheckpointShown?n("Fullscreen",{on:{close:e.onCloseCheckpoint}},[e.selectedCheckpoint.isStation?e._e():n("CheckpointQuestion",{attrs:{"question-id":e.selectedCheckpoint.id,"duel-name":e.selectedCheckpoint.duelName,"read-only":e.isCheckpointReadOnly},on:{"submit-success":e.onCheckpointSuccess,"submit-failure":e.onCheckpointFailure}}),e.selectedCheckpoint.isStation?n("CheckpointStation",{attrs:{pointsReported:e.selectedCheckpoint.submitted,locationLabel:e.selectedCheckpoint.label,ticket:e.selectedTicket}}):e._e()],1):e._e(),e.isEnableLocationServicesHelpShown?n("Fullscreen",{on:{close:e.onToggleEnableLocationServicesHelp}},[n("div",{staticClass:"location-services-help-content"},[e.isIosHelpShown?n("LocationHelpIos"):e._e(),e.isAndroidHelpShown?n("LocationHelpAndroid"):e._e(),n("div",{staticClass:"message-button-container"},[e.isIosHelpShown?e._e():n("Button",{attrs:{label:"Visa info för iPhone",wide:!1},on:{click:e.onShowIosHelp}}),e.isAndroidHelpShown?e._e():n("Button",{attrs:{label:"Visa info för Android",wide:!1},on:{click:e.onShowAndroidHelp}})],1)],1)]):e._e()],1)])},es=[],ts=n("2909"),ns=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"overlay-container"},[n("p",[e._v(e._s(e.message))])])},as=[],is=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])()],is.prototype,"message",void 0),is=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],is);var ss=is,rs=ss,os=(n("719b"),Object(xe["a"])(rs,ns,as,!1,null,"875abea6",null)),cs=os.exports,us=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapperClass},[n("div",{class:e.barLowClass}),n("div",{class:e.barMediumClass}),n("div",{class:e.barHighClass}),n("div",{class:e.barHighestClass})])},ls=[],ds=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"wrapperClass",get:function(){return"bars accuracy-".concat(Ca[this.accuracy])}},{key:"barLowClass",get:function(){var e=!0;return"bar-LOW active-".concat(e)}},{key:"barMediumClass",get:function(){var e=this.accuracy!==Ca.LOW;return"bar-MEDIUM active-".concat(e)}},{key:"barHighClass",get:function(){var e=this.accuracy===Ca.HIGH||this.accuracy===Ca.HIGHEST;return"bar-HIGH active-".concat(e)}},{key:"barHighestClass",get:function(){var e=this.accuracy===Ca.HIGHEST;return"bar-HIGHEST active-".concat(e)}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],ds.prototype,"accuracy",void 0),ds=Object(p["a"])([Object(h["a"])({components:{}})],ds);var ps=ds,hs=ps,vs=(n("9b4f"),Object(xe["a"])(hs,us,ls,!1,null,"124accef",null)),gs=vs.exports,fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"link-external"},[n("a",{attrs:{target:"_blank",href:e.href}},[e._t("default")],2),e._v(" "),n("font-awesome-icon",{attrs:{icon:"external-link-alt",size:"xs"}})],1)},ms=[],bs=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])()],bs.prototype,"href",void 0),bs=Object(p["a"])([Object(h["a"])({components:{}})],bs);var ks=bs,ys=ks,Os=(n("92cf"),Object(xe["a"])(ys,fs,ms,!1,null,"c548cdfa",null)),As=Os.exports,js=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("1. Platsjänster i allmänhet")]),n("ol",[n("li",[n("LinkExternal",{attrs:{href:e.iosSettingsLink}},[e._v("Öppna appen Inställningar")]),e._v(". ")],1),e._m(0),e._m(1),e._m(2),e._m(3)]),n("h3",[e._v("2. Platsjänster för Safari")]),n("ol",[n("li",[n("LinkExternal",{attrs:{href:e.iosSettingsLink}},[e._v("Öppna appen Inställningar")]),e._v(". ")],1),e._m(4),e._m(5),e._m(6)]),n("h3",[e._v("3. Platstjänster för denna sida")]),e._m(7),n("h3",[e._v("Mer information")]),n("p",[n("LinkExternal",{attrs:{href:"https://support.apple.com/sv-se/HT207092"}},[e._v("Instruktioner för iPhone från Apple")]),e._v(". ")],1),n("p",[n("LinkExternal",{attrs:{href:"https://support.apple.com/sv-se/HT203033"}},[e._v("Allmän information om GPS och iPhone")]),e._v(". ")],1),n("p",[e._v(" Platstjänster kan stängas av via Skärmtid. Läs mer på Apples sida om "),n("LinkExternal",{attrs:{href:"https://support.apple.com/sv-se/HT201304"}},[e._v("föräldrakontroller")]),e._v(". ")],1)])},Cs=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Klicka på "),n("em",[e._v("Integritet och säkerhet")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Klicka på "),n("em",[e._v("Platstjänster")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Aktivera "),n("em",[e._v("Platstjänster")]),e._v(" högst upp.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Kolla så att det något annat än "),n("em",[e._v("Aldrig")]),e._v(" för "),n("em",[e._v("Safari")]),e._v(" i listan med appar.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Klicka på "),n("em",[e._v("Safari")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Klicka på "),n("em",[e._v("Plats")]),e._v(" (långt ner bland valet).")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e._v("Välj "),n("em",[e._v("Tillåt")]),e._v(" eller "),n("em",[e._v("Fråga")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[e._v('Klicka på "aA-knappen" vid adressfältet här i Safari.')]),n("li",[e._v("Klicka på "),n("em",[e._v("Webbplatsinställningar")]),e._v(".")]),n("li",[e._v("Klicka på "),n("em",[e._v("Plats")]),e._v(".")]),n("li",[e._v("Välj "),n("em",[e._v("Tillåt")]),e._v(" eller "),n("em",[e._v("Fråga")]),e._v(".")])])}],Es="App-prefs://prefs:root=",Ss=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"iosSettingsLink",get:function(){return Es}}]),n}(h["e"]);Ss=Object(p["a"])([Object(h["a"])({components:{LinkExternal:As}})],Ss);var Is=Ss,ws=Is,Ps=Object(xe["a"])(ws,js,Cs,!1,null,"c6080936",null),Rs=Ps.exports,Ts=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("1. Platsjänster i allmänhet")]),n("ol",[n("li",[e._v("Öppna inställningar för din mobil.")]),n("li",[e._v("Leta efter "),n("em",[e._v("Plats")]),e._v(".")]),n("li",[e._v("Aktivera platstjänster.")]),n("li",[e._v("Klicka på "),n("em",[e._v("Appbehörigheter")]),e._v(".")]),n("li",[e._v("Kontrollera att din webbläsare, exempelvis Chrome eller Firefox, syns i listan över appen som har tillåtits att få tillgång till platsinformation.")])]),n("h3",[e._v("2. Platsjänster för Chrome")]),n("ol",[n("li",[e._v('Klicka på "de tre prickarna högst upp bredvid adressfältet".')]),n("li",[e._v("Gå till "),n("em",[e._v("Inställningar")]),e._v(".")]),n("li",[e._v("Gå till "),n("em",[e._v("Webbplatsinställningar")]),e._v(".")]),n("li",[e._v("Kontrollera att "),n("em",[e._v("Plats")]),e._v(" är aktivt (ej blockerat).")])])])}],Ns=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Ns=Object(p["a"])([Object(h["a"])({components:{LinkExternal:As}})],Ns);var Ls=Ns,Us=Ls,Ms=Object(xe["a"])(Us,Ts,_s,!1,null,"0e73e598",null),xs=Ms.exports,Ds=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"arrival-container"},[n("div",[e._v("Du är framme!")]),e._l(e.markers,(function(t){return n("div",{key:t.label},[n("Button",{attrs:{label:t.label,size:e.checkpointButtonSize},on:{click:function(n){return e.onClickMarker(t)}}})],1)}))],2)},Bs=[],Qs=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.checkpointButtonSize=Xe.HUGE,e}return Object(u["a"])(n,[{key:"onClickMarker",value:function(e){return e}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Qs.prototype,"markers",void 0),Object(p["a"])([Object(h["b"])("selected")],Qs.prototype,"onClickMarker",null),Qs=Object(p["a"])([Object(h["a"])({components:{Button:ct}})],Qs);var Fs=Qs,qs=Fs,Gs=Object(xe["a"])(qs,Ds,Bs,!1,null,"46200ea4",null),Vs=Gs.exports,Hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkpoint-container"},[n("QuestionForm",{attrs:{"question-id":e.questionId,"duel-name":e.duelName,"read-only":e.readOnly,fullScreen:!0},on:{"submit-success":e.onSubmitSuccess,"submit-failure":e.onSubmitFailure}})],1)},Ks=[],Ws=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.wrapperClasses},[e.isQuestionLoading?n("div",[n("Loader")],1):e._e(),!e.isQuestionLoading&&e.loadedQuestion?n("div",[e.isQuestionAvailable?e._e():n("div",{staticClass:"question"},[n("QuestionName",{attrs:{name:e.name,scoreMax:e.scoreMax}}),e.duelName?n("div",[n("p",[e._v(" Här ska ni genomföra "),n("strong",[e._v("duell "+e._s(e.duelName))]),e._v(" tillsammans med (minst) ett annat lag. ")]),n("p",{staticClass:"note"},[e._v(" Stäng denna popup och titta på Dueller-sidan för att se vilka ni ska möta. ")])]):e._e(),n("p",[e._v(" Tidsbegränsad uppgift. ")]),n("p",[e._v(" Ni har "+e._s(e.timeLimitHumanReadable)+" på er från att uppgiften visas. ")]),e.timeLimitPreparation?n("p",[e._v(" "+e._s(e.timeLimitPreparation)+" ")]):e._e(),n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Visa uppgift",pending:e.isPostingViewEvent},on:{click:e.postViewEvent}})],1)],1),e.isQuestionAvailable?n("div",{staticClass:"question"},[n("Question",{attrs:{"question-config":e.loadedQuestion.config,"question-response":e.loadedQuestion.response,"question-type":e.loadedQuestion.type,"question-id":e.questionId,"read-only":e.isAnswerLocked},on:{change:e.onAnswerChange}}),e.isTimeLimitExceeded||e.readOnly?e._e():n("div",[e.isTimedQuestion?n("p",{staticClass:"time-status"},[e._v(" Det är "+e._s(e.timeLeftHumanReadable)+" kvar. ")]):e._e()]),e.isAnswerLocked?e._e():n("div",{staticClass:"save-button-wrapper"},[n("Button",{attrs:{pending:e.isSubmitting,label:"Spara",type:e.saveButtonType},on:{click:e.submitAnswer}}),!e.isAutoSaveEnabled&&e.isDirty?n("p",[e._v(" Kom ihåg att spara! ")]):e._e(),e.isAutoSaveEnabled?n("p",[e.isAutoSavePending?n("span",[e._v(" Sparar snart... ")]):e._e(),e.isSubmitting?n("span",[e._v(" Sparar nu... ")]):e._e()]):e._e()],1)],1):e._e(),e.isTimeLimitExceeded&&!e.readOnly?n("div",[n("p",{staticClass:"time-status"},[e._v(" Tiden har gått ut. Ni kan inte längre ändra. ")])]):e._e()]):e._e(),e.message?n("div",{ref:"message"},[n("Message",{attrs:{header:e.message,type:e.messageType}},[e.suggestReloadQuestion?n("Button",{attrs:{label:"Ok, glöm mitt svar",icon:"sync-alt",wide:!1},on:{click:e.fetchQuestion}}):e._e()],1)],1):e._e()])},zs=[],Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("QuestionName",{attrs:{name:e.name,scoreMax:e.scoreMax}}),n("Bodytext",{attrs:{html:e.text}}),e.textHint?n("p",{staticClass:"text-hint"},[e._v(" "+e._s(e.textHint)+" ")]):e._e(),n(e.currentComponent(),{tag:"component",attrs:{"question-config":e.questionConfig,"question-response":e.questionResponse,"question-id":e.questionId,"read-only":e.readOnly},on:{change:e.onChange}})],1)},Js=[],Xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.name?n("div",{staticClass:"name"},[e._v(" Uppgift "+e._s(e.name)+" "),e.scoreMaxMessage?n("span",{staticClass:"score-max"},[e._v(e._s(e.scoreMaxMessage))]):e._e(),e._v(": ")]):e._e()},Zs=[],$s=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"scoreMaxMessage",get:function(){var e=this.scoreMax;return e?"(".concat(e," p)"):""}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])({default:"Uppgift"})],$s.prototype,"name",void 0),Object(p["a"])([Object(h["d"])({default:0})],$s.prototype,"scoreMax",void 0),$s=Object(p["a"])([Object(h["a"])({components:{}})],$s);var er=$s,tr=er,nr=(n("d4c5"),Object(xe["a"])(tr,Xs,Zs,!1,null,"d6454016",null)),ar=nr.exports,ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.possibleAnswers,(function(t){return n("div",{key:t,staticClass:"option"},[n("label",[e.isSingleSelect?n("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],attrs:{type:"radio",readonly:e.readOnly,disabled:e.readOnly},domProps:{value:t,checked:e._q(e.fieldValue,t)},on:{change:function(n){e.fieldValue=t}}}):e._e(),e.isSingleSelect?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValues,expression:"fieldValues"}],attrs:{type:"checkbox",readonly:e.readOnly,disabled:e.readOnly},domProps:{value:t,checked:Array.isArray(e.fieldValues)?e._i(e.fieldValues,t)>-1:e.fieldValues},on:{change:function(n){var a=e.fieldValues,i=n.target,s=!!i.checked;if(Array.isArray(a)){var r=t,o=e._i(a,r);i.checked?o<0&&(e.fieldValues=a.concat([r])):o>-1&&(e.fieldValues=a.slice(0,o).concat(a.slice(o+1)))}else e.fieldValues=s}}}),e._v(" "+e._s(t)+" ")])])})),0)},sr=[],rr=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isSingleSelect=!1,e.fieldValue="",e.fieldValues=[],e}return Object(u["a"])(n,[{key:"possibleAnswers",get:function(){var e;return(null===(e=this.questionConfig)||void 0===e?void 0:e.possible_answers)||[]}},{key:"fieldName",get:function(){return this.questionResponse.field_name+(this.isSingleSelect?"":"[]")}},{key:"created",value:function(){var e,t=this.questionResponse&&this.questionResponse.current_value?this.questionResponse.current_value:[],n=null===(e=this.questionConfig)||void 0===e?void 0:e.is_single_select;n?(this.fieldValue=t[0],this.$watch("fieldValue",this.onChangeRadio)):(this.fieldValues=t,this.$watch("fieldValues",this.onChangeCheckbox)),this.isSingleSelect=n}},{key:"createFormUpdateObject",value:function(e){var t=this;return{updatedFields:e.map((function(e){return{key:t.fieldName,value:e}}))}}},{key:"onChangeRadio",value:function(){return this.createFormUpdateObject([this.fieldValue])}},{key:"onChangeCheckbox",value:function(){return this.createFormUpdateObject(this.fieldValues)}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],rr.prototype,"questionResponse",void 0),Object(p["a"])([Object(h["d"])()],rr.prototype,"questionConfig",void 0),Object(p["a"])([Object(h["d"])()],rr.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("change")],rr.prototype,"onChangeRadio",null),Object(p["a"])([Object(h["b"])("change")],rr.prototype,"onChangeCheckbox",null),rr=Object(p["a"])([Object(h["a"])({components:{Page:jn,Wrapper:ao}})],rr);var or=rr,cr=or,ur=(n("5c85"),Object(xe["a"])(cr,ir,sr,!1,null,"b9e56b74",null)),lr=ur.exports,dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],attrs:{type:"text",readonly:e.readOnly,disabled:e.readOnly},domProps:{value:e.fieldValue},on:{input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}}),e.isMultiInput?n("p",{staticClass:"instructions"},[e._v(" Skriv mellanslag eller komma mellan varje svar. ")]):e._e()])},pr=[],hr=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.fieldValue="",e}return Object(u["a"])(n,[{key:"isMultiInput",get:function(){var e;return!(null!==(e=this.questionConfig)&&void 0!==e&&e.is_single_answer)}},{key:"possibleAnswers",get:function(){var e;return(null===(e=this.questionConfig)||void 0===e?void 0:e.possible_answers)||[]}},{key:"fieldName",get:function(){return this.questionResponse.field_name}},{key:"created",value:function(){this.fieldValue=this.questionResponse&&this.questionResponse.current_value?this.questionResponse.current_value.join(" "):"",this.$watch("fieldValue",this.onChange)}},{key:"onChange",value:function(){return{updatedFields:[{key:this.fieldName,value:this.fieldValue}]}}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],hr.prototype,"questionResponse",void 0),Object(p["a"])([Object(h["d"])()],hr.prototype,"questionConfig",void 0),Object(p["a"])([Object(h["d"])()],hr.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("change")],hr.prototype,"onChange",null),hr=Object(p["a"])([Object(h["a"])({components:{Page:jn,Wrapper:ao}})],hr);var vr=hr,gr=vr,fr=(n("e5a2"),Object(xe["a"])(gr,dr,pr,!1,null,"795b828d",null)),mr=fr.exports,br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.statusMessage?n("Message",{attrs:{header:e.statusHeader,message:e.statusMessage,type:e.statusType}}):e._e(),n("div",{staticClass:"images-container"},[e._l(e.imageList,(function(t){return n("ImagesQuestionImage",{key:t.imageId,attrs:{"image-data":t,"read-only":e.readOnly},on:{"image-removed":e.onImageRemoved}})})),e.isAdditionalImageAllowed?n("ImagesQuestionUploader",{attrs:{"max-file-size":e.maxFileSize},on:{"image-captured":e.onImageCaptured,"image-error":e.onImageUploadFailed}}):e._e()],2),e.readOnly?e._e():n("div",{staticClass:"file-count-status"},[e._v(" "+e._s(e.fileCountStatus)+" ")]),n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.commentFieldValue,expression:"commentFieldValue"}],attrs:{placeholder:"Skriv kommentar här, om det behövs...",type:"text",readonly:e.readOnly,disabled:e.readOnly},domProps:{value:e.commentFieldValue},on:{input:function(t){t.target.composing||(e.commentFieldValue=t.target.value)}}})])],1)},kr=[],yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"mode-uploaded"},[n("img",{staticClass:"thumbnail",attrs:{src:e.imageData.thumbnailUrl,alt:"Miniatyr av uppladdad bild"}}),e.readOnly?e._e():n("div",{staticClass:"thumbnail-overlay-buttons"},[n("IconButton",{attrs:{icon:"trash",size:"normal",type:"secondary"},on:{click:e.onImageRemoved}})],1)])])},Or=[],Ar=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onImageRemoved",value:function(){return this.imageData}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Ar.prototype,"imageData",void 0),Object(p["a"])([Object(h["d"])()],Ar.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("image-removed")],Ar.prototype,"onImageRemoved",null),Ar=Object(p["a"])([Object(h["a"])({components:{IconButton:Be}})],Ar);var jr=Ar,Cr=jr,Er=(n("0414"),Object(xe["a"])(Cr,yr,Or,!1,null,"74548d38",null)),Sr=Er.exports,Ir=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[e.isUploading?e._e():n("div",{staticClass:"mode-select"},[n("div",[e._v(" Lägg till bild: ")]),n("Button",{attrs:{label:"Kamera",icon:"camera",type:"primary"},on:{click:e.onStartCamera}}),n("Button",{attrs:{label:"Välj bild",icon:"image",type:"primary"},on:{click:e.onStartFileSelector}}),n("input",{ref:"fileSelector",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFileSelected}}),e.isCameraShown?n("Fullscreen",{on:{close:e.onStopCamera}},[n("div",{staticClass:"camera-container"},[n("Camera",{on:{captured:e.onCaptured}})],1),e.imageDataUrl?n("div",{staticClass:"review"},[n("img",{staticClass:"captured-photo",attrs:{src:e.imageDataUrl}}),n("ConfirmationOverlay",{attrs:{question:"Blev bilden bra?","accept-label":"Ja","reject-label":"Nej"},on:{accept:e.onAcceptPhoto,reject:e.onRejectPhoto}})],1):e._e()]):e._e()],1),e.isUploading?n("div",{staticClass:"mode-uploading"},[n("Loader")],1):e._e()])},wr=[],Pr=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isUploading=!1,e.imageDataUrl="",e.isCameraShown=!1,e}return Object(u["a"])(n,[{key:"dataURItoBlob",value:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var n=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(t.length),i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return new Blob([a],{type:n})}},{key:"uploadImageFromDataUrl",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=null,a=0,i=[1,.5,.25];case 2:if(!(a<i.length)){e.next=25;break}return s=i[a],r="",e.prev=5,e.next=8,this.resizeImage(t,s);case 8:r=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](5),this.onImageError("Kunde inte förminska bilden.","image downscaling",{message:"Failed to resize image. Factor: ".concat(s,". Base64-encoded length: ").concat(t.length,". Error: ").concat(e.t0.message,".")}),e.abrupt("return");case 15:if(o=this.dataURItoBlob(r),o){e.next=19;break}return this.onImageError("Kunde inte läsa in bilden.","image downscaling",{message:"Failed to convert data URI to blob. Base64-encoded length: ".concat(t.length,". Start of base64-encoded content: ").concat(t.substring(0,30))}),e.abrupt("return");case 19:if(!(o.size<this.maxFileSize)){e.next=22;break}return n=r,e.abrupt("break",25);case 22:a++,e.next=2;break;case 25:if(n){e.next=28;break}return this.onImageError("Kunde inte spara bilden trots flera försök.","image upload",{message:"Failed to convert data URI to blob. Base64-encoded length: ".concat(t.length,". Start of base64-encoded content: ").concat(t.substring(0,30))}),e.abrupt("return");case 28:this.onImageCaptured(n);case 29:case"end":return e.stop()}}),e,this,[[5,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onImageCaptured",value:function(e){return e}},{key:"resizeImage",value:function(e,t){return 1===t?Promise.resolve(e):(Oe(ue.FORM,"downscaling","image upload",{size:t,message:"Resizing image. Factor: ".concat(t,". Base64-encoded length: ").concat(e.length,".")}),new Promise((function(n,a){console.log("🏞 Starting promise");var i=new Image;i.onload=function(e){try{console.log("🏞 Source image loaded");var i=e.target,s=i.height,r=i.width,o=document.createElement("canvas");o.width=t*r,o.height=t*s;var c=o.getContext("2d");if(c){c.drawImage(e.target,0,0,o.width,o.height);var u=null===c||void 0===c?void 0:c.canvas.toDataURL("image/jpeg",1);console.log("🏞 Got a data URL. Length: ".concat(u.length,".")),Oe(ue.FORM,"downscaled","image upload",{message:"Length of resized base64-encoded image: ".concat(u.length,".")}),n(u)}else console.log("🏞 No context"),a(new Error("No context."))}catch(l){console.log("🏞 Something went wrong",l),a(l)}},i.src=e})))}},{key:"onStartFileSelector",value:function(){this.$refs.fileSelector.click()}},{key:"onFileSelected",value:function(e){var t=this,n=e.target.files;if(n&&n.length>0)for(var a=0;a<n.length;a++){var i=n[a];Oe(ue.FORM,"selected","image upload",{message:"User selected file to upload"});var s=new FileReader;s.onload=function(e){var n,a=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.result;a?t.uploadImageFromDataUrl(a):t.onImageError("Kunde inte öppna bilden.","image upload",{message:"Reader loaded by no data"})},s.readAsDataURL(i)}else Oe(ue.FORM,"skipped","image upload",{message:"No files selected"})}},{key:"onStartCamera",value:function(){this.isCameraShown=!0,this.imageDataUrl=""}},{key:"onStopCamera",value:function(){this.isCameraShown=!1}},{key:"onCaptured",value:function(e){this.imageDataUrl=e}},{key:"onRejectPhoto",value:function(){this.imageDataUrl=""}},{key:"onAcceptPhoto",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCameraShown=!1,e.next=3,this.uploadImageFromDataUrl(this.imageDataUrl);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onImageError",value:function(e,t,n){return this.isUploading=!1,Oe(ue.FORM,"failed",t,n),new Error(e)}}]),n}(h["e"]));Object(p["a"])([Object(h["d"])()],Pr.prototype,"maxFileSize",void 0),Object(p["a"])([Object(h["b"])("image-captured")],Pr.prototype,"onImageCaptured",null),Object(p["a"])([Object(h["b"])("image-error")],Pr.prototype,"onImageError",null),Pr=Object(p["a"])([Object(h["a"])({components:{Button:ct,Loader:tt,Camera:Aa,Fullscreen:ra,ConfirmationOverlay:$n}})],Pr);var Rr=Pr,Tr=Rr,_r=(n("6338"),Object(xe["a"])(Tr,Ir,wr,!1,null,"28640aa0",null)),Nr=_r.exports,Lr=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.statusHeader="",e.statusMessage="",e.statusType=pt.FAILURE,e.imageList=[],e.commentFieldValue="",e}return Object(u["a"])(n,[{key:"created",value:function(){if(this.currentResponse){var e=this.currentResponse.images||[],t=this.currentResponse.thumbnails||[];this.imageList=e.map((function(e,n){return{imageId:e,thumbnailUrl:t[n]}})),this.commentFieldValue=this.currentResponse.comment}else this.imageList=[],this.commentFieldValue="";this.$watch("imageList",this.onChange),this.$watch("commentFieldValue",this.onChange)}},{key:"fieldName",get:function(){return this.questionResponse.field_name+"[images][]"}},{key:"commentFieldName",get:function(){return this.questionResponse.field_name+"[comment]"}},{key:"currentResponse",get:function(){var e;return null===(e=this.questionResponse)||void 0===e?void 0:e.current_value}},{key:"isAdditionalImageAllowed",get:function(){return this.imageList.length<this.maxImageCount&&!this.readOnly}},{key:"maxImageCount",get:function(){var e;return null===(e=this.questionConfig)||void 0===e?void 0:e.max_files_count}},{key:"maxFileSize",get:function(){var e,t=de.state.configuration.uploads.maxFileSize,n=parseInt("20000000",10),a=t?1e6*t:n,i=null===(e=this.questionConfig)||void 0===e?void 0:e.max_file_size;return i?Math.min(i,a):a}},{key:"onChange",value:function(){var e=this;return{updatedFields:[{key:this.commentFieldName,value:this.commentFieldValue}].concat(this.imageList.map((function(t){var n=t.imageId;return{key:e.fieldName,value:n}})))}}},{key:"onImageCaptured",value:function(e){this.imageList.push({imageId:e,thumbnailUrl:e,dataUrl:e}),this.statusMessage=""}},{key:"onImageUploadFailed",value:function(e){this.statusHeader="Oj då",this.statusMessage=e.message}},{key:"onImageRemoved",value:function(e){var t=this.imageList.findIndex((function(t){return t.imageId===e.imageId}));-1!==t&&this.imageList.splice(t,1),this.statusMessage=""}},{key:"plural",value:function(e,t,n,a){switch(e){case 0:return t;case 1:return n;default:return a}}},{key:"fileCountStatus",get:function(){if(this.isAdditionalImageAllowed){var e=this.imageList.length,t=0===e?"Ni kan ladda upp COUNT IMAGES.".replace("COUNT",String(this.maxImageCount)).replace("IMAGES",this.plural(this.maxImageCount,"bilder","bild","bilder")):"Ni kan ladda upp COUNT IMAGES till.".replace("COUNT",String(this.maxImageCount-e)).replace("IMAGES",this.plural(this.maxImageCount-e,"bilder","bild","bilder"));return t}return this.maxImageCount>1?"Byta ut bild? Ta bort en först.":"Byta ut bilden? Ta bort den ni har först."}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Lr.prototype,"questionResponse",void 0),Object(p["a"])([Object(h["d"])()],Lr.prototype,"questionConfig",void 0),Object(p["a"])([Object(h["d"])()],Lr.prototype,"questionId",void 0),Object(p["a"])([Object(h["d"])()],Lr.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("change")],Lr.prototype,"onChange",null),Lr=Object(p["a"])([Object(h["a"])({components:{Page:jn,Wrapper:ao,Button:ct,Camera:Aa,Fullscreen:ra,Message:It,ConfirmationOverlay:$n,ImagesQuestionImage:Sr,ImagesQuestionUploader:Nr}})],Lr);var Ur=Lr,Mr=Ur,xr=(n("bb6f"),Object(xe["a"])(Mr,br,kr,!1,null,"eeed5abe",null)),Dr=xr.exports,Br=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],attrs:{type:"number",readonly:e.readOnly,disabled:e.readOnly},domProps:{value:e.fieldValue},on:{input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}})])},Qr=[],Fr=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.fieldValue="",e}return Object(u["a"])(n,[{key:"optionType",get:function(){var e;return null!==(e=this.questionConfig)&&void 0!==e&&e.is_single_select?"radio":"checkbox"}},{key:"possibleAnswers",get:function(){var e;return(null===(e=this.questionConfig)||void 0===e?void 0:e.possible_answers)||[]}},{key:"fieldName",get:function(){return this.questionResponse.field_name}},{key:"created",value:function(){this.fieldValue=this.questionResponse&&this.questionResponse.current_value?this.questionResponse.current_value[0]:"",this.$watch("fieldValue",this.onChange)}},{key:"onChange",value:function(){return{updatedFields:[{key:this.fieldName,value:this.fieldValue}]}}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Fr.prototype,"questionResponse",void 0),Object(p["a"])([Object(h["d"])()],Fr.prototype,"questionConfig",void 0),Object(p["a"])([Object(h["d"])()],Fr.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("change")],Fr.prototype,"onChange",null),Fr=Object(p["a"])([Object(h["a"])({components:{Page:jn,Wrapper:ao}})],Fr);var qr=Fr,Gr=qr,Vr=(n("4b86"),Object(xe["a"])(Gr,Br,Qr,!1,null,"59856216",null)),Hr=Vr.exports,Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bodytext",domProps:{innerHTML:e._s(e.html)}})},Wr=[],zr=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])()],zr.prototype,"html",void 0),zr=Object(p["a"])([Object(h["a"])({components:{}})],zr);var Yr=zr,Jr=Yr,Xr=(n("28a6"),Object(xe["a"])(Jr,Kr,Wr,!1,null,"5b47df26",null)),Zr=Xr.exports,$r=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"currentComponent",value:function(){return this.questionType}},{key:"onChange",value:function(e){return e}},{key:"text",get:function(){var e;return null===(e=this.questionConfig)||void 0===e?void 0:e.text}},{key:"name",get:function(){var e;return null===(e=this.questionConfig)||void 0===e?void 0:e.name}},{key:"textHint",get:function(){var e;return null===(e=this.questionConfig)||void 0===e?void 0:e.text_hint}},{key:"scoreMax",get:function(){var e;return(null===(e=this.questionConfig)||void 0===e?void 0:e.score_max)||0}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],$r.prototype,"questionResponse",void 0),Object(p["a"])([Object(h["d"])()],$r.prototype,"questionConfig",void 0),Object(p["a"])([Object(h["d"])()],$r.prototype,"questionType",void 0),Object(p["a"])([Object(h["d"])()],$r.prototype,"questionId",void 0),Object(p["a"])([Object(h["d"])()],$r.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("change")],$r.prototype,"onChange",null),$r=Object(p["a"])([Object(h["a"])({components:{Button:ct,OptionsQuestion:lr,TextQuestion:mr,ImagesQuestion:Dr,NumberQuestion:Hr,Bodytext:Zr,QuestionName:ar,Loader:tt}})],$r);var eo=$r,to=eo,no=(n("7a97"),Object(xe["a"])(to,Ys,Js,!1,null,"ef9439f8",null)),ao=no.exports,io="https://www.tunnelbanejakten.se",so=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadedQuestion={},e.isQuestionLoading=!1,e.isSubmitting=!1,e.isPostingViewEvent=!1,e.timeLeft=0,e.countdownTimer=0,e.message="",e.messageType=pt.FAILURE,e.suggestReloadQuestion=!1,e.isDirty=!1,e.submitRequestKey="",e}return Object(u["a"])(n,[{key:"created",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.question){e.next=4;break}this.loadedQuestion=this.question,e.next=6;break;case 4:return e.next=6,this.fetchQuestion();case 6:this.isAutoSaveEnabled&&K({onStart:this.onQueuedSubmitStart,onSuccess:this.onQueuedSubmitSuccess,onFailure:this.onQueuedSubmitFailure});case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.isAutoSaveEnabled&&W({onStart:this.onQueuedSubmitStart,onSuccess:this.onQueuedSubmitSuccess,onFailure:this.onQueuedSubmitFailure}),this.stopCountdownTimer()}},{key:"stopCountdownTimer",value:function(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=0)}},{key:"onAnswerChange",value:function(e){this.latestFormUpdate={updatedFields:e.updatedFields.concat([{key:this.optimisticLockFieldName,value:this.optimisticLockCurrentValue},{key:this.trackedAnswersFieldName,value:this.trackedAnswersCurrentValue}])},this.isDirty=!0,this.isAutoSaveEnabled&&this.queueSubmitAnswer()}},{key:"isQuestionLoaded",value:function(){return this.loadedQuestion&&this.loadedQuestion.type}},{key:"optimisticLockCurrentValue",get:function(){return this.isQuestionLoaded()?this.loadedQuestion.optimistic_lock.current_value:-1}},{key:"optimisticLockFieldName",get:function(){return this.isQuestionLoaded()?this.loadedQuestion.optimistic_lock.field_name:"untitled"}},{key:"trackedAnswersCurrentValue",get:function(){return this.isQuestionLoaded()?this.loadedQuestion.tracked_answers.current_value:-1}},{key:"trackedAnswersFieldName",get:function(){return this.isQuestionLoaded()?this.loadedQuestion.tracked_answers.field_name:"untitled"}},{key:"onQueuedSubmitStart",value:function(e){e.key===this.submitRequestKey&&(this.isSubmitting=!0)}},{key:"onQueuedSubmitSuccess",value:function(e){if(e.key===this.submitRequestKey){this.isSubmitting=!1;var t=e.response.payload;this.submitRequestKey="",this.onSubmitSuccess(Object(v["a"])(Object(v["a"])({},t),{},{id:this.questionId}))}}},{key:"onQueuedSubmitFailure",value:function(e){e.key===this.submitRequestKey&&(this.isSubmitting=!1,this.submitRequestKey="",this.onSubmitFailure(e.error))}},{key:"isViewEventRequired",get:function(){var e;return(null===(e=this.loadedQuestion.view_event)||void 0===e?void 0:e.is_required)||!1}},{key:"isViewEventFound",get:function(){var e;return(null===(e=this.loadedQuestion.view_event)||void 0===e?void 0:e.is_found)||!1}},{key:"isQuestionAvailable",get:function(){return!this.isViewEventRequired||this.isViewEventFound}},{key:"isTimeLimitExceeded",get:function(){return this.isTimedQuestion&&this.isQuestionAvailable&&this.timeLeft<=0}},{key:"isTimeLimitWithMarginExceeded",get:function(){var e,t,n=(null===(e=this.question)||void 0===e||null===(t=e.time_limit)||void 0===t?void 0:t.duration_error_margin)||0;return this.isTimedQuestion&&this.timeLeft+n<=0}},{key:"isAnswerLocked",get:function(){return this.readOnly||this.isTimeLimitWithMarginExceeded}},{key:"isTimedQuestion",get:function(){return this.isViewEventRequired}},{key:"saveButtonType",get:function(){return this.isDirty?Je.PRIMARY:Je.SECONDARY}},{key:"name",get:function(){var e,t;return null===(e=this.loadedQuestion)||void 0===e||null===(t=e.config)||void 0===t?void 0:t.name}},{key:"scoreMax",get:function(){var e,t;return(null===(e=this.loadedQuestion)||void 0===e||null===(t=e.config)||void 0===t?void 0:t.score_max)||0}},{key:"updateTimeLeft",value:function(){var e,t=J(1e3*((null===(e=this.loadedQuestion.time_limit)||void 0===e?void 0:e.ends_at)||0)),n=t-Date.now();this.timeLeft=Math.round(n/1e3)}},{key:"onCountdownTick",value:function(){this.updateTimeLeft(),this.isTimeLimitWithMarginExceeded&&this.stopCountdownTimer()}},{key:"onLoadedQuestionUpdated",value:function(e){this.isTimedQuestion&&(this.updateTimeLeft(),this.timeLeft>0&&(this.stopCountdownTimer(),this.countdownTimer=setInterval(this.onCountdownTick,1e3)))}},{key:"fuzzyTime",value:function(e,t){var n=Math.floor(e/60),a=e%60;if(0===n)return"".concat(e," sekunder");if(n<3||!t)return a?"".concat(n," minuter och ").concat(a," sekunder"):"".concat(n," minuter");var i=Math.round(e/60);return"ungefär ".concat(i," minuter")}},{key:"timeLimit",get:function(){var e;return(null===(e=this.loadedQuestion.time_limit)||void 0===e?void 0:e.duration)||0}},{key:"timeLimitPreparation",get:function(){var e;return(null===(e=this.loadedQuestion.config)||void 0===e?void 0:e.text_preparation)||""}},{key:"timeLimitHumanReadable",get:function(){return this.fuzzyTime(this.timeLimit,!1)}},{key:"timeLeftHumanReadable",get:function(){return this.fuzzyTime(this.timeLeft,!0)}},{key:"isAutoSaveEnabled",get:function(){return de.state.autoSave}},{key:"wrapperClasses",get:function(){return"question-form-".concat(this.fullScreen?"fullscreen":"compact"," question-form-").concat(this.isQuestionLoading?"loading":"loaded")}},{key:"isAutoSavePending",get:function(){return!this.isSubmitting&&!!this.submitRequestKey}},{key:"fetchQuestion",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isQuestionLoading=!0,this.message="",this.messageType=pt.INFO,e.next=6,Z({endpoint:"".concat(io,"/wp-json/tuja/v1/questions/").concat(this.questionId)});case 6:t=e.sent,n=t.payload,this.loadedQuestion=Object(v["a"])({},n),Oe(ue.FORM,"fetched","question",{message:"Fetched question ".concat(this.questionId,".")}),this.$emit("question-fetched",Object(v["a"])(Object(v["a"])({},n),{},{id:this.questionId})),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),e.t0 instanceof L?(Oe(ue.FORM,"failed","fetch",{message:"Could not fetch question ".concat(this.questionId,"."),status:"Http response ".concat(e.t0.status,".")}),this.message="Oj då, appen kan inte läsa in kontrollen.",this.messageType=pt.FAILURE):(Oe(ue.FORM,"failed","fetch",{message:"Could not fetch question ".concat(this.questionId,". Reason: ").concat(e.t0.message,".")}),this.message="Något gick fel. "+e.t0.message,this.messageType=pt.FAILURE);case 16:this.isQuestionLoading=!1;case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"postViewEvent",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isPostingViewEvent=!0,e.prev=1,e.next=4,Z({endpoint:"".concat(io,"/wp-json/tuja/v1/questions/").concat(this.questionId,"/view-events"),method:"POST"});case 4:this.onPostViewEventSuccess(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),e.t0 instanceof L?this.onPostViewEventFailure(new Error("Kunde inte visa fråga.")):this.onPostViewEventFailure(e.t0);case 10:this.isPostingViewEvent=!1;case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getApiRequest",value:function(){var e=new FormData;if(!this.latestFormUpdate)throw new Error("Inget verkar ha ändrats.");return this.latestFormUpdate.updatedFields.forEach((function(t){var n=t.key,a=t.value;e.append(n,a)})),{endpoint:"".concat(io,"/wp-json/tuja/v1/questions/").concat(this.questionId,"/answer"),method:"POST",payload:e,callerKey:re(this.questionId)}}},{key:"queueSubmitAnswer",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{t=this.getApiRequest(),this.message="",this.messageType=pt.INFO,this.submitRequestKey=G(t)}catch(n){this.onSubmitFailure(n)}case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"submitAnswer",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSubmitting=!0,this.message="",this.messageType=pt.INFO,e.prev=3,this.submitRequestKey&&(H(this.submitRequestKey),this.submitRequestKey=""),e.next=7,Z(this.getApiRequest());case 7:t=e.sent,n=t.payload,this.onSubmitSuccess(Object(v["a"])(Object(v["a"])({},n),{},{id:this.questionId})),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](3),this.onSubmitFailure(e.t0);case 15:this.isSubmitting=!1;case 16:case"end":return e.stop()}}),e,this,[[3,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmitSuccess",value:function(e){return this.isDirty=!1,this.loadedQuestion=e,Oe(ue.FORM,"submitted","answer",{message:"Submitted answer to question ".concat(this.questionId,".")}),e}},{key:"onSubmitFailure",value:function(e){if(this.messageType=pt.FAILURE,this.suggestReloadQuestion=!1,e instanceof L){Oe(ue.FORM,"failed","submit",{message:"Http error when submitting answer to question ".concat(this.questionId,". Reason: ").concat(e.message,"."),status:"Http response ".concat(e.status,".")});var t=(null===e||void 0===e?void 0:e.payload)||{},n=t["tuja_formshortcode__response__".concat(this.questionId)]||t["__"]||t["error"]||"";this.message=n||"Något gick fel. "+e.message,409===e.status&&(this.suggestReloadQuestion=!0)}else Oe(ue.FORM,"failed","submit",{message:"Could not submit answer to question ".concat(this.questionId,". Reason: ").concat(e.message,".")}),this.message="Något gick fel. "+e.message;return e}},{key:"onPostViewEventSuccess",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Oe(ue.FORM,"posted","view event",{message:"Posted view event for question ".concat(this.questionId,".")}),this.message="",this.messageType=pt.INFO,e.next=5,this.fetchQuestion();case 5:return e.abrupt("return",this.questionId);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onPostViewEventFailure",value:function(e){return Oe(ue.FORM,"failed","post view event",{message:"Could not post view event for question ".concat(this.questionId,". Reason: ").concat(e.message,".")}),this.message="Något gick fel. "+e.message,this.messageType=pt.FAILURE,e}},{key:"onMessageChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.$nextTick();case 3:n=this.$refs.message,n&&(a=n,a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],so.prototype,"question",void 0),Object(p["a"])([Object(h["d"])()],so.prototype,"questionId",void 0),Object(p["a"])([Object(h["d"])()],so.prototype,"duelName",void 0),Object(p["a"])([Object(h["d"])()],so.prototype,"readOnly",void 0),Object(p["a"])([Object(h["d"])()],so.prototype,"fullScreen",void 0),Object(p["a"])([Object(h["f"])("loadedQuestion")],so.prototype,"onLoadedQuestionUpdated",null),Object(p["a"])([Object(h["b"])("submit-success")],so.prototype,"onSubmitSuccess",null),Object(p["a"])([Object(h["b"])("submit-failure")],so.prototype,"onSubmitFailure",null),Object(p["a"])([Object(h["b"])("post-view-event-success")],so.prototype,"onPostViewEventSuccess",null),Object(p["a"])([Object(h["f"])("message")],so.prototype,"onMessageChange",null),so=Object(p["a"])([Object(h["a"])({components:{Button:ct,Question:ao,Message:It,QuestionName:ar,Loader:tt}})],so);var ro=so,oo=ro,co=(n("b84e"),Object(xe["a"])(oo,Ws,zs,!1,null,"b56895ba",null)),uo=co.exports,lo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"onSubmitSuccess",value:function(e){return e}},{key:"onSubmitFailure",value:function(e){return e}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],lo.prototype,"questionId",void 0),Object(p["a"])([Object(h["d"])()],lo.prototype,"duelName",void 0),Object(p["a"])([Object(h["d"])()],lo.prototype,"readOnly",void 0),Object(p["a"])([Object(h["b"])("submit-success")],lo.prototype,"onSubmitSuccess",null),Object(p["a"])([Object(h["b"])("submit-failure")],lo.prototype,"onSubmitFailure",null),lo=Object(p["a"])([Object(h["a"])({components:{QuestionForm:uo}})],lo);var po=lo,ho=po,vo=(n("b634"),Object(xe["a"])(ho,Hs,Ks,!1,null,"14efd1ea",null)),go=vo.exports,fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkpoint-container"},[n("div",[n("p",[e._v(" Här ("+e._s(e.locationLabel)+") finns en bemannad kontroll. ")])]),e.ticket?n("Ticket",{attrs:{ticket:e.ticket}}):e._e(),e.pointsReported?n("Message",{attrs:{header:"Avklarad",message:"Poäng har rapporterats in av funktionär.",type:"info"}}):e._e(),e.ticket?e._e():n("Message",{attrs:{header:"Biljett krävs",message:"Ni har (ännu) ingen biljett för denna kontroll.",type:"failure"}})],1)},mo=[],bo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])()],bo.prototype,"locationLabel",void 0),Object(p["a"])([Object(h["d"])()],bo.prototype,"ticket",void 0),Object(p["a"])([Object(h["d"])()],bo.prototype,"pointsReported",void 0),bo=Object(p["a"])([Object(h["a"])({components:{Ticket:Ki,Message:It}})],bo);var ko,yo=bo,Oo=yo,Ao=(n("8e38"),Object(xe["a"])(Oo,fo,mo,!1,null,"161f3660",null)),jo=Ao.exports;(function(e){e["ANDROID"]="ANDROID",e["IOS"]="IOS",e["UNKNOWN"]="UNKNOWN"})(ko||(ko={}));var Co,Eo,So,Io=function(){var e=navigator.userAgent;return/android/i.test(e)?ko.ANDROID:/iPad|iPhone|iPod/i.test(e)?ko.IOS:ko.UNKNOWN},wo="https://www.tunnelbanejakten.se";(function(e){e[e["NOT_REQUESTED"]=0]="NOT_REQUESTED",e[e["LOADING"]=1]="LOADING",e[e["LOADED"]=2]="LOADED",e[e["FAILED"]=3]="FAILED"})(Co||(Co={})),function(e){e[e["NOT_REQUESTED"]=0]="NOT_REQUESTED",e[e["LOADING"]=1]="LOADING",e[e["ACQUIRED"]=2]="ACQUIRED",e[e["FAILED"]=3]="FAILED"}(Eo||(Eo={})),function(e){e[e["NONE"]=0]="NONE",e[e["SELECT"]=1]="SELECT",e[e["SHOW"]=2]="SHOW",e[e["SHOW_PREVIEW"]=3]="SHOW_PREVIEW",e[e["SHOW_READONLY"]=4]="SHOW_READONLY"}(So||(So={}));var Po=function(e,t){var n=6371,a=Ro(t.latitude-e.latitude),i=Ro(t.longitude-e.longitude),s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Ro(e.latitude))*Math.cos(Ro(t.latitude))*Math.sin(i/2)*Math.sin(i/2),r=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return n*r*1e3},Ro=function(e){return e*(Math.PI/180)},To=2e3,_o=1,No=5,Lo=function(e){var t=de.state.configuration.positioning.showUnavailableStations;return!!t||(!(e instanceof Za)||(!e.isStation||e.submitted||!!e.stationTicket))},Uo=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.markersState=Co.NOT_REQUESTED,e.markersStateMessage="",e.positioningState=Eo.NOT_REQUESTED,e.positioningStateMessage="Startar GPS",e.geolocationWatchId=0,e.checkpointView=So.NONE,e.lastApproxAccuracy=-1,e.isLowAccuracyAllowed=!1,e.isEnableLocationServicesHelpShown=!1,e.isIosHelpShown=!1,e.isAndroidHelpShown=!1,e.lowAccuracyTimeoutId=0,e.staleUserPositionTimeoutId=0,e.markers=[],e.markersPollingTimeoutId=0,e.nearbyCheckpointMarkers=[],e.currentPosition={longitude:0,latitude:0,meterAccuracy:-1,timestamp:-1},e.userPositions=[],e.selectedCheckpoint=null,e}return Object(u["a"])(n,[{key:"updateMarkersState",value:function(e,t){this.markersState=e,this.markersStateMessage=t,Oe(ue.MAP,"set","markers_state",{state:Co[this.markersState],message:this.markersStateMessage})}},{key:"updatePositioningState",value:function(e,t){this.positioningState=e,this.positioningStateMessage=t,Oe(ue.MAP,"set","positioning_state",{state:Eo[this.positioningState],message:this.positioningStateMessage}),e===Eo.FAILED&&(this.nearbyCheckpointMarkers=[])}},{key:"toAccuracyLevel",value:function(e){return"HIGHEST"===e?Ca.HIGHEST:"HIGH"===e?Ca.HIGH:"MEDIUM"===e?Ca.MEDIUM:Ca.LOW}},{key:"isCheckpointSelectorShown",get:function(){return this.checkpointView===So.SELECT}},{key:"isCheckpointShown",get:function(){return this.checkpointView===So.SHOW||this.isCheckpointReadOnly}},{key:"isCheckpointReadOnly",get:function(){return this.checkpointView===So.SHOW_READONLY}},{key:"isCheckpointPreviewShown",get:function(){return this.checkpointView===So.SHOW_PREVIEW}},{key:"curPos",get:function(){return this.userPositions.length?Object(v["a"])({},this.userPositions[this.userPositions.length-1]):null}},{key:"isLoadingMarkers",get:function(){return this.markersState===Co.NOT_REQUESTED||this.markersState===Co.LOADING}},{key:"atLocationText",get:function(){return 1===this.nearbyCheckpointMarkers.length?"Du befinner dig vid en kontroll.":"Du befinner dig vid ".concat(this.nearbyCheckpointMarkers.length," kontroller.")}},{key:"onSelectCheckpoint",value:function(e){if(e instanceof Xa);else if(e instanceof Za){var t=this.nearbyCheckpointMarkers.filter((function(e){return e instanceof Za})).some((function(t){return t.key===e.key}));e.submitted?t?this.showCheckpoint(e,!1):this.showCheckpoint(e,!0):t?this.showCheckpoint(e,!1):e.isStation?this.showCheckpoint(e,!0):this.showCheckpointPreview(e)}}},{key:"showCheckpoint",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Oe(ue.MAP,"open","checkpoint",{message:t.label}),this.checkpointView=n?So.SHOW_READONLY:So.SHOW,this.selectedCheckpoint=t,this.selectedTicket=t.stationTicket;case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"showCheckpointPreview",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Oe(ue.MAP,"preview","checkpoint",{message:t.label}),this.checkpointView=So.SHOW_PREVIEW,this.selectedCheckpoint=t,this.selectedTicket=t.stationTicket;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onCloseCheckpoint",value:function(){this.checkpointView=So.NONE,this.selectedCheckpoint=null}},{key:"onCloseCheckpointSelector",value:function(){this.checkpointView=So.NONE}},{key:"onToggleEnableLocationServicesHelp",value:function(){this.isEnableLocationServicesHelpShown=!this.isEnableLocationServicesHelpShown}},{key:"onShowIosHelp",value:function(){this.isAndroidHelpShown=!1,this.isIosHelpShown=!0}},{key:"onShowAndroidHelp",value:function(){this.isAndroidHelpShown=!0,this.isIosHelpShown=!1}},{key:"onReopenCheckpoint",value:function(){this.openCheckpointView()}},{key:"setCheckpointSubmitted",value:function(e){this.markers.forEach((function(t){t instanceof Za&&(t.isStation||t.id!==e||(t.submitted=!0))})),this.markers=Object(ts["a"])(this.markers)}},{key:"onCheckpointSuccess",value:function(e){this.setCheckpointSubmitted(String(e.id))}},{key:"onCheckpointFailure",value:function(e){}},{key:"isAccurateEnough",value:function(e){var t=Ma(e),n=t===Ca.HIGHEST||t===Ca.HIGH&&this.isLowAccuracyAllowed;return n}},{key:"isPositionStale",value:function(e){var t=Date.now()-e.timestamp;return t>this.stalePositionTimeoutMilliseconds}},{key:"updateNearbyCheckpointMarkers",value:function(e,t){if(this.isPositionStale(t))this.nearbyCheckpointMarkers=[];else{var n=this.isAccurateEnough(t.meterAccuracy);if(n){var a=this.nearbyCheckpointMarkers.length>0;this.nearbyCheckpointMarkers=e.filter((function(e){return!(e instanceof Ja)})).filter(Lo).filter((function(e){var n=Po({latitude:t.latitude,longitude:t.longitude},{latitude:e.latitude,longitude:e.longitude}),a=(e.meterAccuracy||0)+(t.meterAccuracy||0),i=n-a<=0;return i}));var i=this.nearbyCheckpointMarkers.length>0;!a&&i&&Oe(ue.MAP,"arrive","checkpoint",{message:this.nearbyCheckpointMarkers.map((function(e){return e.label})).join(", ")})}else this.nearbyCheckpointMarkers=[]}}},{key:"openCheckpointView",value:function(){1===this.nearbyCheckpointMarkers.length?this.onSelectCheckpoint(this.nearbyCheckpointMarkers[0]):this.checkpointView=So.SELECT}},{key:"onPositionChange",value:function(e){e&&this.updateNearbyCheckpointMarkers(this.markers,e)}},{key:"onMarkersChange",value:function(e){this.updateNearbyCheckpointMarkers(e,this.currentPosition)}},{key:"mapObjects",get:function(){var e=this.markers.filter(Lo);return-1!==this.currentPosition.meterAccuracy&&this.isAccurateEnough(this.currentPosition.meterAccuracy)?e.concat(this.userPositions):Object(ts["a"])(e)}},{key:"isMarkerListLoaded",get:function(){return this.markers.length>0}},{key:"isPositionAcquired",get:function(){return this.positioningState===Eo.ACQUIRED}},{key:"isPositioningFailed",get:function(){return this.positioningState===Eo.FAILED}},{key:"accuracyLevel",get:function(){return Ma(this.currentPosition.meterAccuracy)}},{key:"duelInfoTitle",value:function(e){return"Duell ".concat(e.duelName)}},{key:"duelInfoMessage",value:function(e){return"Här ska ni genomföra duellen ".concat(e.duelName," tillsammans med (minst) ett annat lag. Stäng denna popup och titta på Dueller-sidan för att se vilka ni ska möta.")}},{key:"loadMarkers",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.updateMarkersState(Co.LOADING,"Hämtar karta"),e.prev=1,e.next=4,Z({endpoint:"".concat(wo,"/wp-json/tuja/v1/map/markers")});case 4:t=e.sent,200===t.status?(n=t.payload,n.length>0?(this.markers=n.map((function(e){var t,n=e.type,a=e.latitude,i=e.longitude,s=e.name,r=e.radius,o=e.link_form_question_id,c=e.link_station_id,u=e.link_station_ticket,l=(e.link_duel_group_id,e.link_duel_group_name),d=e.is_done;if("START"===n)t=new Ja;else{t=new Za,t.id=String(o||c);var p=c>0;t.isStation=p,t.duelName=l,t.submitted=d,t.showAccuracyCircle=de.state.debugSettings.map,p&&u&&(t.stationTicket={key:u.station.random_id,colour:u.colour,word:u.word,stationName:u.station.name,markerName:String(s),isUsed:u.is_used})}return t.latitude=a,t.longitude=i,t.meterAccuracy=r,t.label=String(s),t})),Oe(ue.MAP,"load","markers",{count:this.markers.length}),this.updateMarkersState(Co.LOADED,"Vi har hämtat kartmarkörerna.")):this.updateMarkersState(Co.FAILED,"Det finns inga kontroller att visa på kartan.")):204===t.status?this.updateMarkersState(Co.FAILED,"Ert lag har inte blivit tilldelad en karta. Kontakta kundtjänst så löser de detta."):this.updateMarkersState(Co.FAILED,"Kunde inte läsa in kontroller."),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),e.t0 instanceof U?this.updateMarkersState(Co.FAILED,"Du är inte inloggad."):this.updateMarkersState(Co.FAILED,"Kunde inte läsa in kontroller.");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"logAccuracy",value:function(e){var t=10*Math.round(e/10),n=this.lastApproxAccuracy!==t;Oe(ue.MAP,"acquire","location",{accuracy:t},n?le.INFO:le.DEBUG),this.lastApproxAccuracy=t}},{key:"updateUserPosition",value:function(e,t){var n=e.latitude,a=e.longitude,i=new Xa;i.meterAccuracy=t,i.latitude=n,i.longitude=a,i.timestamp=Date.now(),i.showAccuracyCircle=de.state.debugSettings.map,this.currentPosition=i,this.userPositions.push(i);var s=de.state.debugSettings.map?No:1;this.userPositions.length>s&&this.userPositions.splice(0,this.userPositions.length-s),this.restartStaleUserPositionTimeout()}},{key:"stalePositionTimeoutMilliseconds",get:function(){var e=de.state.configuration.positioning.stalePositionTimeout,t=parseInt("120",10),n=e||t;return 1e3*n}},{key:"restartStaleUserPositionTimeout",value:function(){var e=this;this.stopStaleUserPositionTimer(),this.staleUserPositionTimeoutId=setTimeout((function(){e.updatePositioningState(Eo.FAILED,"Vi är osäkra på var du befinner dig. Din GPS har inte gett oss din position på ett tag.")}),this.stalePositionTimeoutMilliseconds)}},{key:"stopStaleUserPositionTimer",value:function(){this.staleUserPositionTimeoutId&&clearInterval(this.staleUserPositionTimeoutId)}},{key:"initLocationListener",value:function(){var e=this;"geolocation"in navigator?(this.updatePositioningState(Eo.LOADING,"Försöker hittar dig på kartan."),this.geolocationWatchId&&navigator.geolocation.clearWatch(this.geolocationWatchId),this.stopLowAccuracyTimer(),this.stopStaleUserPositionTimer(),this.geolocationWatchId=navigator.geolocation.watchPosition((function(t){var n=t.coords,a=n.accuracy,i=n.latitude,s=n.longitude;if(e.userPositions.length){var r=e.userPositions[e.userPositions.length-1];if(!e.isPositionStale(r)&&r.meterAccuracy===a&&r.latitude===i&&r.longitude===s)return void console.log("🙈 Ignoring duplicate measurement. Maybe this only happens during debugging?");var o=Date.now()-r.timestamp,c=o<To,u=Po(r,{longitude:s,latitude:i}),l=u<_o;if(c&&l)return void console.log("🙈 Ignoring measurement. Too small difference since previous measurement and too close in time.")}e.updateUserPosition({latitude:i,longitude:s},a);var d=e.isAccurateEnough(a);if(e.positioningState!==Eo.ACQUIRED&&!e.lowAccuracyTimeoutId&&!d){var p=de.state.configuration.positioning.highAccuracyTimeout,h=parseInt("60",10),v=p||h;console.log("Will wait ".concat(v," seconds before accepting lower accuracy.")),e.lowAccuracyTimeoutId=setTimeout((function(){Oe(ue.MAP,"lower","accuracy threshold"),e.isLowAccuracyAllowed=!0,e.lowAccuracyTimeoutId=0,e.updateNearbyCheckpointMarkers(e.markers,e.currentPosition)}),1e3*v)}d&&e.lowAccuracyTimeoutId&&e.stopLowAccuracyTimer();var g=d?"Bra GPS-mottagning.":e.isLowAccuracyAllowed?"Din GPS är inte tillräckligt exakt just nu. Kontakta kundtjänst för att få hjälp.":"Vi är osäkra på din position. Stå still ett litet tag så löser det sig säkert.";e.updatePositioningState(Eo.ACQUIRED,g),e.logAccuracy(a)}),(function(t){switch(t.code){case 1:e.updatePositioningState(Eo.FAILED,"Är platstjänster aktiverat? Har du tillåtit den här sidan att se din position?");break;case 2:e.updatePositioningState(Eo.FAILED,"Av någon anledning kunde vi inte ta reda på din position.");break;case 3:e.updatePositioningState(Eo.FAILED,"Det tog för lång tid att ta reda på din position så vi gav upp.");break;default:e.updatePositioningState(Eo.FAILED,"Av någon anledning kunde vi inte ta reda på din position.");break}e.stopLocationListener()}),{enableHighAccuracy:!0,maximumAge:2e3})):this.updatePositioningState(Eo.FAILED,"Du saknar GPS.")}},{key:"pollMarkers",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadMarkers();case 2:t=de.state.configuration.updates.configPollInterval||60,console.log("Will fetch markers in ".concat(t," seconds.")),this.markersPollingTimeoutId=setTimeout(this.pollMarkers,1e3*t);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initMarkersPolling",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.pollMarkers();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initMarkersPolling();case 2:this.initLocationListener(),this.isAndroidHelpShown=Io()===ko.ANDROID,this.isIosHelpShown=Io()===ko.IOS;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"stopLowAccuracyTimer",value:function(){this.lowAccuracyTimeoutId&&(clearTimeout(this.lowAccuracyTimeoutId),this.lowAccuracyTimeoutId=0)}},{key:"stopLocationListener",value:function(){this.geolocationWatchId&&navigator.geolocation.clearWatch(this.geolocationWatchId),this.stopLowAccuracyTimer(),this.stopStaleUserPositionTimer()}},{key:"stopMarkersPolling",value:function(){this.markersPollingTimeoutId&&(clearTimeout(this.markersPollingTimeoutId),this.markersPollingTimeoutId=0)}},{key:"beforeDestroy",value:function(){this.stopLocationListener(),this.stopMarkersPolling()}}]),n}(h["e"]);Object(p["a"])([Object(h["f"])("curPos")],Uo.prototype,"onPositionChange",null),Object(p["a"])([Object(h["f"])("markers")],Uo.prototype,"onMarkersChange",null),Uo=Object(p["a"])([Object(h["a"])({components:{Page:jn,MapComponent:ai,Message:It,ConfirmationOverlay:$n,NotificationOverlay:cs,Fullscreen:ra,Button:ct,LinkExternal:As,LocationHelpIos:Rs,LocationHelpAndroid:xs,CheckpointQuestion:go,CheckpointStation:jo,CheckpointSelector:Vs,Loader:tt,AccuracyIcon:gs}})],Uo);var Mo=Uo,xo=Mo,Do=(n("8e8b"),Object(xe["a"])(xo,$i,es,!1,null,"2a04e974",null)),Bo=Do.exports,Qo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Dueller"}},[n("div",[e.isLoading?n("div",[n("Loader")],1):e._e(),e.isLoading||e.duelsPayload?e._e():n("div",[n("Message",{attrs:{type:"failure",header:"Ingen data",message:"Vi kunde inte hitta information om era dueller. Du är nog inte inloggad."}})],1),!e.isLoading&&e.duelsPayload?n("div",[n("div",[n("Button",{attrs:{label:"Hur fungerar dueller?",type:"secondary"},on:{click:e.toggleHowToDuel}})],1),e._l(e.duelsPayload,(function(t){return n("Card",{key:t.name,attrs:{verticalMargin:!0}},[n("h2",[e._v(e._s(t.name)+" kl. "+e._s(e.toLocalTime(t.duel_at)))]),e._l(t.opponents,(function(a,i){return n("div",{key:a.group_name,staticClass:"opponent"},[n("div",[n("div",[e._v("Motståndare"),t.opponents.length>1?n("span",[e._v(" "+e._s(i+1))]):e._e(),e._v(":"),n("br"),n("strong",[e._v(e._s(a.group_name))])]),e._l(a.contacts,(function(t){return n("div",{key:t.phone},[e._v(" "+e._s(t.name)+" "),t.phone?n("a",{attrs:{href:"tel:"+t.phone}},[e._v(e._s(t.phone))]):e._e()])}))],2)])})),t.opponents.length>1?n("p",{staticClass:"note"},[n("Button",{attrs:{label:"Varför ser jag flera lag här?",type:"secondary"},on:{click:e.toggleWhyMultipleOpponents}})],1):e._e()],2)}))],2):e._e()]),e.isHowToDuelOpen?n("Fullscreen",{on:{close:e.toggleHowToDuel}},[n("div",{staticClass:"popup-content-container"},[n("p",[e._v("Dueller måste utföras tillsammans med "),n("em",[e._v("ett visst lag")]),e._v(" på "),n("em",[e._v("en viss plats")]),e._v(" och vid "),n("em",[e._v("en viss tid")]),e._v(".")]),n("div",[e._v(" Så här fungerar dueller: "),n("ol",[n("li",[e._v("Var på rätt plats vid rätt tid.")]),n("li",[e._v("Leta upp ett av era motståndarlag (ni ser deras nummer nedan om ni vill ringa varandra).")]),n("li",[e._v("Starta kontrollen på Karta-fliken.")]),n("li",[e._v("Följ instruktionerna och skicka in svar/foto precis som för andra obemannade kontroller. Varje lag måste skicka in ett eget svar/foto.")])])])])]):e._e(),e.isWhyMultipleOpponentsOpen?n("Fullscreen",{on:{close:e.toggleWhyMultipleOpponents}},[n("div",{staticClass:"popup-content-container"},[n("p",[e._v(" I en duell tävlar två lag mot varandra. ")]),n("p",[e._v(" Om flera lag är på plats samtidigt så får ni komma överens om vem som duellerar mot vem. ")]),n("p",[e._v(" Ni måste se till så att att alla får duellera mot någon. Det kan alltså bli så att ert lag deltar i samma duell två gånger. Redovisa då den omgången som gick bäst för er. ")])])]):e._e()],1)},Fo=[],qo="https://www.tunnelbanejakten.se",Go=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.isWhyMultipleOpponentsOpen=!1,e.isHowToDuelOpen=!1,e.duelsPayload=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,Z({endpoint:"".concat(qo,"/wp-json/tuja/v1/duels")});case 4:t=e.sent,n=t.payload,this.duelsPayload=n,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:this.isLoading=!1;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"toggleWhyMultipleOpponents",value:function(){this.isWhyMultipleOpponentsOpen=!this.isWhyMultipleOpponentsOpen}},{key:"toggleHowToDuel",value:function(){this.isHowToDuelOpen=!this.isHowToDuelOpen}},{key:"toLocalTime",value:function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}}]),n}(h["e"]);Go=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Loader:tt,Button:ct,Fullscreen:ra,Message:It}})],Go);var Vo=Go,Ho=Vo,Ko=(n("5ee6"),Object(xe["a"])(Ho,Qo,Fo,!1,null,"c79e605a",null)),Wo=Ko.exports,zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Start"}},[n("Card",{attrs:{verticalMargin:!1},domProps:{innerHTML:e._s(e.bodyText)}}),e.groupAppLink?n("Card",{attrs:{verticalMargin:!0}},[n("Share",{attrs:{authCode:e.authCode,authLink:e.groupAppLink,baseLink:e.baseAppLink}})],1):e._e()],1)},Yo=[],Jo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Logga in resten av laget")]),n("p",[e._v("Skicka denna länk till dina lagkompisar:")]),n("p",{staticClass:"auth-link"},[e._v(" "+e._s(e.authLink)+" ")]),n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Kopiera",type:"primary"},on:{click:e.copyAuthLink}}),n("Button",{attrs:{label:"Visa QR-kod",type:"primary"},on:{click:e.openQrCodeScreen}})],1),e.copySucceeded?n("Message",{attrs:{header:"Länk kopierad",message:"Öppna en chattapp och klistra in den i ett meddelande.",type:"info"}}):e._e(),n("p",[e._v("Om länken eller QR-koden inte fungerar så kan du be lagkompisarna surfa till denna adress och ange er PIN-kod:")]),n("p",{staticClass:"auth-link"},[e._v(" "+e._s(e.baseLink)+" ")]),n("p"),n("h3",[e._v("PIN-kod:")]),n("div",[n("code",[e._v(e._s(e.authCode))])]),e.showQrCode?n("Fullscreen",{on:{close:e.closeQrCodeScreen}},[n("div",{staticClass:"qr-code-container"},[n("div",{staticClass:"qr-code"},[n("QrcodeVue",{attrs:{value:e.authLink,size:"200"}}),n("p",{staticClass:"note auth-link"},[e._v(e._s(e.authLink))])],1),n("div",[n("p",[e._v("På din kompis mobil: Starta kameran. Rikta den mot QR-koden. Mobilen borde upptäcka QR-koden efter några sekunder.")])])])]):e._e()],1)},Xo=[],Zo=n("f904"),$o=n.n(Zo),ec=n("d7b0"),tc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.copySucceeded=!1,e.showQrCode=!1,e}return Object(u["a"])(n,[{key:"copyAuthLink",value:function(){this.copySucceeded=$o()(this.authLink)}},{key:"openQrCodeScreen",value:function(){this.showQrCode=!0}},{key:"closeQrCodeScreen",value:function(){this.showQrCode=!1}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])({default:""})],tc.prototype,"authLink",void 0),Object(p["a"])([Object(h["d"])({default:""})],tc.prototype,"baseLink",void 0),Object(p["a"])([Object(h["d"])({default:""})],tc.prototype,"authCode",void 0),tc=Object(p["a"])([Object(h["a"])({components:{Button:ct,QrcodeVue:ec["a"],Fullscreen:ra,Message:It}})],tc);var nc=tc,ac=nc,ic=(n("c2c8"),Object(xe["a"])(ac,Jo,Xo,!1,null,"c2135ba6",null)),sc=ic.exports,rc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"bodyText",get:function(){return de.state.configuration.messages.startPageContent}},{key:"authCode",get:function(){return de.state.profile.authCode}},{key:"groupAppLink",get:function(){return de.state.profile.groupAppLink}},{key:"baseAppLink",get:function(){return de.state.profile.baseAppLink}}]),n}(h["e"]);rc=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Share:sc}})],rc);var oc=rc,cc=oc,uc=(n("8df8"),Object(xe["a"])(cc,zo,Yo,!1,null,"6cd965d4",null)),lc=uc.exports,dc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Inställningar"}},[n("Card",[n("h2",[e._v("Förenkla")]),n("div",{staticClass:"option"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.autoSave,expression:"autoSave"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoSave)?e._i(e.autoSave,null)>-1:e.autoSave},on:{change:function(t){var n=e.autoSave,a=t.target,i=!!a.checked;if(Array.isArray(n)){var s=null,r=e._i(n,s);a.checked?r<0&&(e.autoSave=n.concat([s])):r>-1&&(e.autoSave=n.slice(0,r).concat(n.slice(r+1)))}else e.autoSave=i}}}),e._v("Spara automatiskt")])])]),n("Card",{attrs:{verticalMargin:!0}},[n("h2",[e._v("Felsöka")]),n("div",{staticClass:"option"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.debugMap,expression:"debugMap"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.debugMap)?e._i(e.debugMap,null)>-1:e.debugMap},on:{change:function(t){var n=e.debugMap,a=t.target,i=!!a.checked;if(Array.isArray(n)){var s=null,r=e._i(n,s);a.checked?r<0&&(e.debugMap=n.concat([s])):r>-1&&(e.debugMap=n.slice(0,r).concat(n.slice(r+1)))}else e.debugMap=i}}}),e._v("Visa felsökningsinformation på karta")])]),n("div",{staticClass:"option"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.debugConsole,expression:"debugConsole"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.debugConsole)?e._i(e.debugConsole,null)>-1:e.debugConsole},on:{change:function(t){var n=e.debugConsole,a=t.target,i=!!a.checked;if(Array.isArray(n)){var s=null,r=e._i(n,s);a.checked?r<0&&(e.debugConsole=n.concat([s])):r>-1&&(e.debugConsole=n.slice(0,r).concat(n.slice(r+1)))}else e.debugConsole=i}}}),e._v("Visa loggfönster")])]),n("p",[e._v("App-version: "),n("code",[e._v(e._s(e.appVersion))])]),e.groupId?n("p",[e._v("Felsöknings-id: "),n("code",{on:{click:e.toggleFullGroupIdShown}},[e._v(e._s(e.groupId))])]):e._e(),e.isLoggedIn?n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Logga ut",type:"secondary"},on:{click:e.onLogOut}})],1):e._e()])],1)},pc=[],hc="0.23.1",vc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isFullGroupIdShown=!1,e}return Object(u["a"])(n,[{key:"debugMap",get:function(){return de.state.debugSettings.map},set:function(e){de.setDebugMap(e)}},{key:"groupId",get:function(){var e,t=_();if(!t)return null;var n=null!==(e=ye())&&void 0!==e?e:"";return this.isFullGroupIdShown?"".concat(t,"-").concat(n):"".concat(t.substring(0,5).toUpperCase(),"-").concat(n.substring(0,5).toUpperCase())}},{key:"debugConsole",get:function(){return de.state.debugSettings.console},set:function(e){de.setDebugConsole(e)}},{key:"autoSave",get:function(){return de.state.autoSave},set:function(e){de.setFormAutoSave(e)}},{key:"isLoggedIn",get:function(){return w()}},{key:"appVersion",get:function(){return hc}},{key:"toggleFullGroupIdShown",value:function(){this.isFullGroupIdShown=!this.isFullGroupIdShown}},{key:"onLogOut",value:function(){confirm("Vill du logga ut?")&&(S(),this.$router.push({path:"/"}))}}]),n}(h["e"]);vc=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Message:It,Button:ct}})],vc);var gc=vc,fc=gc,mc=(n("178f"),Object(xe["a"])(fc,dc,pc,!1,null,"79a0773c",null)),bc=mc.exports,kc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Mitt lag"}},[e.groupKey?e._e():n("div",[n("Message",{attrs:{type:"failure",header:"Inget lag",message:"Vi kunde inte hitta information om ditt lag. Du är nog inte inloggad."}})],1),e.groupKey?n("Card",[n("Profile",{attrs:{groupName:e.groupName,categoryName:e.categoryName,countCompeting:e.countCompeting,countFollower:e.countFollower,groupPortalLink:e.groupPortalLink}})],1):e._e(),e.groupKey?n("Card",{attrs:{verticalMargin:!0}},[n("Share",{attrs:{authCode:e.authCode,authLink:e.groupAppLink,baseLink:e.baseAppLink}})],1):e._e()],1)},yc=[],Oc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Ditt lag")]),n("table",[n("tbody",[n("tr",[n("td",[e._v("Lagnamn:")]),n("td",[e._v(e._s(e.groupName))])]),n("tr",[n("td",[e._v("Tävlingsklass:")]),n("td",[e._v(e._s(e.categoryName))])]),n("tr",[n("td",[e._v("Antal tävlande:")]),n("td",[e._v(e._s(e.countCompeting)+" st")])]),e.countFollower?n("tr",[n("td",[e._v("Vuxna som följer med:")]),n("td",[e._v(e._s(e.countFollower)+" st")])]):e._e()])]),n("p",[e._v(" Ni kan ändra er anmälan i "),n("span",{staticClass:"group-portal-link"},[n("a",{attrs:{href:e.groupPortalLink,target:"_blank"}},[e._v("Lagportalen")]),n("font-awesome-icon",{attrs:{icon:"external-link-alt",size:"xs"}})],1),e._v(". ")])])},Ac=[],jc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(h["e"]);Object(p["a"])([Object(h["d"])({default:""})],jc.prototype,"groupName",void 0),Object(p["a"])([Object(h["d"])({default:""})],jc.prototype,"categoryName",void 0),Object(p["a"])([Object(h["d"])({default:""})],jc.prototype,"countCompeting",void 0),Object(p["a"])([Object(h["d"])({default:""})],jc.prototype,"countFollower",void 0),Object(p["a"])([Object(h["d"])({default:""})],jc.prototype,"groupPortalLink",void 0),jc=Object(p["a"])([Object(h["a"])({components:{}})],jc);var Cc=jc,Ec=Cc,Sc=(n("c589"),Object(xe["a"])(Ec,Oc,Ac,!1,null,"da197f34",null)),Ic=Sc.exports,wc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"groupKey",get:function(){return de.state.profile.groupKey}},{key:"groupName",get:function(){return de.state.profile.groupName}},{key:"categoryName",get:function(){return de.state.profile.categoryName}},{key:"countCompeting",get:function(){return de.state.profile.countCompeting}},{key:"countFollower",get:function(){return de.state.profile.countFollower}},{key:"groupPortalLink",get:function(){return de.state.profile.groupPortalLink}},{key:"authCode",get:function(){return de.state.profile.authCode}},{key:"groupAppLink",get:function(){return de.state.profile.groupAppLink}},{key:"baseAppLink",get:function(){return de.state.profile.baseAppLink}},{key:"fetchProfile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Kt();case 2:s=e.sent,me({group_key:null!==(t=null!==(n=s.groupKey)&&void 0!==n?n:this.groupKey)&&void 0!==t?t:"unknown",group_name:null!==(a=null!==(i=s.groupName)&&void 0!==i?i:this.groupName)&&void 0!==a?a:"unknown"}),de.setProfile(s);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchProfile();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["e"]);wc=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Message:It,Profile:Ic,Share:sc,Loader:tt}})],wc);var Pc=wc,Rc=Pc,Tc=(n("2e2b"),Object(xe["a"])(Rc,kc,yc,!1,null,"1ec8c298",null)),_c=Tc.exports,Nc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Svara",noPadding:!0}},[n("QuestionViewWrapper",[n("Button",{attrs:{pending:e.isBackPending,label:"Tillbaka",type:"secondary"},on:{click:e.onBack}}),n("QuestionGroupForm",{attrs:{"question-group":e.questionGroupSelectedQuestion},on:{"submit-success":e.onSubmitSuccess}})],1)],1)},Lc=[],Uc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Svara",noPadding:!0}},[e.isLoadingForFirstTime?n("div",{staticClass:"no-questions"},[n("Loader")],1):e._e(),e.isUpdateAvailable?n("div",{staticClass:"updates-available-container"},[n("div",[e._v(" Listan med uppgifter är inte längre aktuell. ")]),n("Button",{attrs:{label:"Uppdatera listan"},on:{click:e.onUpdateView}}),n("div",[n("small",[e._v("Spara dina svar först.")])])],1):e._e(),e.isLoadingForFirstTime?e._e():n("div",{staticClass:"container"},[e.message?n("div",[n("Message",{attrs:{header:"Oj då",message:e.message,type:e.messageType}})],1):e._e(),e.isQuestionListEmpty?n("div",[n("Message",{attrs:{header:"Inga uppgifter",message:"Just nu finns inga uppgifter som ni kan jobba med. Kontakta kundtjänst om detta verkar konstigt.",type:"info"}})],1):e._e(),e.isQuestionListEmpty?e._e():n("div",[e._t("default")],2)])])},Mc=[],xc=(n("4d90"),"https://www.tunnelbanejakten.se"),Dc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isLoadingQuestions=!1,e.message="",e.messageType=pt.FAILURE,e.pollingTimeoutId=0,e.pendingQuestionGroups=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Math.max(0,this.pollingInterval-this.secondsSinceLastPoll),this.schedulePoll(t);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isLoadingForFirstTime",get:function(){return 0===de.state.answers.lastFetchTimestamp}},{key:"questionGroups",get:function(){return de.state.answers.questionGroups}},{key:"secondsSinceLastPoll",get:function(){return(Date.now()-de.state.answers.lastFetchTimestamp)/1e3}},{key:"loadQuestionGroups",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingQuestions=!0,e.prev=1,t=[],e.next=5,Z({endpoint:"".concat(xc,"/wp-json/tuja/v1/questions")});case 5:return n=e.sent,a=n.payload,a.forEach((function(e){e.question_groups.forEach((function(n){if(n.questions&&n.questions.length){var a=n.questions.some((function(e){var t;return null!==(null===(t=e.response)||void 0===t?void 0:t.current_value)})),i=!e.is_read_only||a;i&&t.push(Object(v["a"])(Object(v["a"])({},n),{},{isReadOnly:e.is_read_only}))}}))})),e.abrupt("return",t);case 11:throw e.prev=11,e.t0=e["catch"](1),Oe(ue.FORM,"failed","fetch",{message:"Could not fetch questions. Reason: ".concat(e.t0.message,".")}),e.t0;case 15:return e.prev=15,this.isLoadingQuestions=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,11,15,18]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"pollUpdates",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.message="",e.prev=1,e.next=4,this.loadQuestionGroups();case 4:t=e.sent,n=this.getDigest(this.questionGroups),a=this.getDigest(t),n!==a&&(this.pendingQuestionGroups=t,this.isQuestionListEmpty&&this.onUpdateView()),de.setQuestionGroupsCheckedNow(),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](1),this.message=e.t0.message,this.messageType=pt.FAILURE;case 15:this.schedulePoll(this.pollingInterval);case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"pollingInterval",get:function(){return de.state.configuration.updates.configPollInterval||60}},{key:"schedulePoll",value:function(e){this.pollingTimeoutId=setTimeout(this.pollUpdates,1e3*e)}},{key:"stopPolling",value:function(){this.pollingTimeoutId&&(clearTimeout(this.pollingTimeoutId),this.pollingTimeoutId=0)}},{key:"beforeDestroy",value:function(){this.stopPolling()}},{key:"onUpdateView",value:function(){var e=this;this.pendingQuestionGroups&&(de.setAnswerQuestionGroups([]),setTimeout((function(){e.pendingQuestionGroups&&(de.setAnswerQuestionGroups(Object(ts["a"])(e.pendingQuestionGroups)),e.pendingQuestionGroups=null)}),0))}},{key:"isUpdateAvailable",get:function(){return null!==this.pendingQuestionGroups}},{key:"isQuestionListEmpty",get:function(){return 0===this.questionGroups.length}},{key:"getDigest",value:function(e){var t,n=[],a=Object(m["a"])(e);try{for(a.s();!(t=a.n()).done;){var i,s=t.value,r=s.isReadOnly,o=Object(m["a"])(s.questions);try{for(o.s();!(i=o.n()).done;){var c=i.value,u=[c.id.toString().padStart(5,"0"),r?"r":"w"].join("-");n.push(u)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){a.e(l)}finally{a.f()}return n.sort(),n.join()}}]),n}(h["e"]);Dc=Object(p["a"])([Object(h["a"])({components:{Page:jn,Loader:tt,Button:ct,Message:It}})],Dc);var Bc=Dc,Qc=Bc,Fc=(n("b122"),Object(xe["a"])(Qc,Uc,Mc,!1,null,"f47436c6",null)),qc=Fc.exports,Gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{attrs:{verticalMargin:!0}},[e.questionGroup.name||e.questionGroup.description?n("div",{staticClass:"question-group-header"},[e.questionGroup.name?n("div",{staticClass:"name"},[e._v(" "+e._s(e.questionGroup.name)+" ")]):e._e(),e.questionGroup.description?n("Bodytext",{attrs:{html:e.questionGroup.description}}):e._e()],1):e._e(),n("div",{staticClass:"question-group-questions"},e._l(e.questionGroup.questions,(function(t){return n("div",{key:e.questionKey(t),staticClass:"question"},[n("QuestionForm",{attrs:{question:t,"question-id":t.id,"read-only":e.questionGroup.isReadOnly},on:{"submit-success":e.onSubmitSuccess,"post-view-event-success":e.onPostViewEventSuccess,"question-fetched":e.onQuestionFetched}})],1)})),0)])},Vc=[],Hc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"questionKey",value:function(e){return JSON.stringify({r:e.response,c:e.config})}},{key:"onSubmitSuccess",value:function(e){var t=this.questionGroup.questions.findIndex((function(t){return t.id===e.id}));return-1!==t&&this.questionGroup.questions.splice(t,1,e),e}},{key:"onPostViewEventSuccess",value:function(e){var t=parseInt(e,10),n=this.questionGroup.questions.findIndex((function(e){return e.id===t}));return-1!==n&&(this.questionGroup.questions[n].view_event.is_found=!0),e}},{key:"onQuestionFetched",value:function(e){var t=this.questionGroup.questions.findIndex((function(t){return t.id===e.id}));-1!==t&&this.questionGroup.questions.splice(t,1,e)}}]),n}(h["e"]);Object(p["a"])([Object(h["d"])()],Hc.prototype,"questionGroup",void 0),Object(p["a"])([Object(h["b"])("submit-success")],Hc.prototype,"onSubmitSuccess",null),Hc=Object(p["a"])([Object(h["a"])({components:{QuestionForm:uo,Bodytext:Zr,Card:Ut}})],Hc);var Kc=Hc,Wc=Kc,zc=(n("dd49"),Object(xe["a"])(Wc,Gc,Vc,!1,null,"2a7c4552",null)),Yc=zc.exports,Jc=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.questionId=0,e.isBackPending=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.questionId=parseInt((null===(t=this.$route.params)||void 0===t?void 0:t.questionId)||"0");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onBack",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isBackPending=!0,e.next=3,z();case 3:this.isBackPending=!1,this.$router.push({name:"Answer"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmitSuccess",value:function(e){de.updateQuestion(e)}},{key:"questionGroupSelectedQuestion",get:function(){var e,t=Object(m["a"])(de.state.answers.questionGroups);try{for(t.s();!(e=t.n()).done;){var n,a=e.value,i=Object(m["a"])(a.questions);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.id===this.questionId)return Object(v["a"])(Object(v["a"])({},a),{},{questions:[s]})}}catch(r){i.e(r)}finally{i.f()}}}catch(r){t.e(r)}finally{t.f()}return null}}]),n}(h["e"]);Jc=Object(p["a"])([Object(h["a"])({components:{Page:jn,QuestionForm:uo,Button:ct,Message:It,QuestionGroupForm:Yc,QuestionViewWrapper:qc}})],Jc);var Xc=Jc,Zc=Xc,$c=Object(xe["a"])(Zc,Nc,Lc,!1,null,"95299c4a",null),eu=$c.exports,tu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Svara",noPadding:!0}},[n("QuestionViewWrapper",[n("div",{staticClass:"map-link-wrapper"},[e._v(" Ni hittar också uppgifter på "),n("router-link",{attrs:{to:"/map"}},[n("span",[e._v("kartan")])]),e._v(". ")],1),e.isFlatListViewEnabled?n("QuestionListFlat",{attrs:{"question-groups":e.questionGroups}}):e._e(),e.isByQuestionGroupViewEnabled?n("QuestionListByGroup",{attrs:{"question-groups":e.questionGroups}}):e._e(),e.isByQuestionViewEnabled?n("QuestionListByQuestion",{attrs:{"question-groups":e.questionGroups}}):e._e()],1)],1)},nu=[],au=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.groups,(function(t){return n("QuestionGroupForm",{key:t.id,attrs:{"question-group":t},on:{"submit-success":e.onSubmitSuccess}})})),1)},iu=[],su=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"groups",get:function(){return de.state.answers.questionGroups||[]}},{key:"onSubmitSuccess",value:function(e){de.updateQuestion(e)}}]),n}(h["e"]);su=Object(p["a"])([Object(h["a"])({components:{QuestionGroupForm:Yc}})],su);var ru=su,ou=ru,cu=Object(xe["a"])(ou,au,iu,!1,null,"5cc6350c",null),uu=cu.exports,lu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.groups,(function(t,a){return n("Card",{key:t.id,attrs:{verticalMargin:!0}},[n("div",{staticClass:"question-wrapper"},[n("Button",{attrs:{label:e.getQuestionGroupLabel(t,a),wide:!0},on:{click:function(n){return e.onSelect(t)}}}),e.submittedRatio(t)?n("div",{staticClass:"submitted-marker"},[n("font-awesome-icon",{attrs:{icon:"check"}}),100===e.submittedRatio(t)?n("span",[e._v(" Klar")]):e._e(),100!==e.submittedRatio(t)?n("span",[e._v(" "+e._s(e.submittedRatio(t))+" % klar")]):e._e()],1):e._e()],1)])})),1)},du=[],pu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"groups",get:function(){return de.state.answers.questionGroups||[]}},{key:"getQuestionGroupLabel",value:function(e,t){return e.name||"Block ".concat(t+1)}},{key:"onSelect",value:function(e){this.$router.push({name:"AnswerQuestionGroup",params:{questionGroupId:String(e.id)}})}},{key:"submittedRatio",value:function(e){var t=e.questions.filter((function(e){return null!==e.response.current_value})).length,n=e.questions.length;return Math.round(100*(n>0?t/n:0))}}]),n}(h["e"]);pu=Object(p["a"])([Object(h["a"])({components:{QuestionGroupForm:Yc,Button:ct,Card:Ut}})],pu);var hu=pu,vu=hu,gu=(n("94c6"),Object(xe["a"])(vu,lu,du,!1,null,"404777c4",null)),fu=gu.exports,mu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.questions,(function(t,a){return n("Card",{key:t.id,attrs:{verticalMargin:!0}},[n("div",{staticClass:"question-wrapper"},[n("Button",{attrs:{label:e.getQuestionLabel(t,a),wide:!0},on:{click:function(n){return e.onSelect(t)}}}),e.isSubmitted(t)?n("div",{staticClass:"submitted-marker"},[n("font-awesome-icon",{attrs:{icon:"check"}}),e._v(" Klar ")],1):e._e()],1)])})),1)},bu=[],ku=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"questions",get:function(){var e=de.state.answers.questionGroups||[];return e.map((function(e){var t=e.questions;return t})).reduce((function(e,t){return e.concat(t)}),[])}},{key:"getQuestionLabel",value:function(e,t){var n,a;return"Uppgift ".concat(null!==(n=null===e||void 0===e||null===(a=e.config)||void 0===a?void 0:a.name)&&void 0!==n?n:t+1)}},{key:"onSelect",value:function(e){this.$router.push({name:"AnswerQuestion",params:{questionId:String(e.id)}})}},{key:"isSubmitted",value:function(e){return null!==e.response.current_value}}]),n}(h["e"]);ku=Object(p["a"])([Object(h["a"])({components:{QuestionGroupForm:Yc,Button:ct,Card:Ut}})],ku);var yu=ku,Ou=yu,Au=(n("34e2"),Object(xe["a"])(Ou,mu,bu,!1,null,"e3827324",null)),ju=Au.exports,Cu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"questionGroups",get:function(){return de.state.answers.questionGroups}},{key:"questionGrouping",get:function(){return de.state.configuration.answer.questionGrouping}},{key:"isByQuestionGroupViewEnabled",get:function(){return this.questionGrouping===T.BY_QUESTION_GROUP}},{key:"isByQuestionViewEnabled",get:function(){return this.questionGrouping===T.BY_QUESTION}},{key:"isFlatListViewEnabled",get:function(){return this.questionGrouping===T.NONE}}]),n}(h["e"]);Cu=Object(p["a"])([Object(h["a"])({components:{Page:jn,QuestionForm:uo,Button:ct,Message:It,QuestionListFlat:uu,QuestionListByGroup:fu,QuestionListByQuestion:ju,QuestionGroupForm:Yc,QuestionViewWrapper:qc}})],Cu);var Eu=Cu,Su=Eu,Iu=(n("fb8f"),Object(xe["a"])(Su,tu,nu,!1,null,"23a7932f",null)),wu=Iu.exports,Pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Svara",noPadding:!0}},[n("QuestionViewWrapper",[n("Button",{attrs:{pending:e.isBackPending,label:"Tillbaka",type:"secondary"},on:{click:e.onBack}}),n("QuestionGroupForm",{attrs:{"question-group":e.questionGroup},on:{"submit-success":e.onSubmitSuccess}})],1)],1)},Ru=[],Tu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isBackPending=!1,e.questionGroupId=0,e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.questionGroupId=parseInt((null===(t=this.$route.params)||void 0===t?void 0:t.questionGroupId)||"0");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onBack",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isBackPending=!0,e.next=3,z();case 3:this.isBackPending=!1,this.$router.push({name:"Answer"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSubmitSuccess",value:function(e){de.updateQuestion(e)}},{key:"questionGroup",get:function(){var e,t=this;return null!==(e=de.state.answers.questionGroups.find((function(e){return e.id===t.questionGroupId})))&&void 0!==e?e:null}}]),n}(h["e"]);Tu=Object(p["a"])([Object(h["a"])({components:{Page:jn,QuestionForm:uo,Button:ct,Message:It,QuestionGroupForm:Yc,QuestionViewWrapper:qc}})],Tu);var _u=Tu,Nu=_u,Lu=Object(xe["a"])(Nu,Pu,Ru,!1,null,"785b0fe7",null),Uu=Lu.exports,Mu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Page",{attrs:{title:"Incheckning"}},[e.isLoading?n("div",[n("Loader")],1):e._e(),e.isLoading||e.checkinPayload?e._e():n("div",[n("Message",{attrs:{type:"failure",header:"Ingen data",message:"Vi kan inte se om du kan checka in eller inte. Du är nog inte inloggad."}})],1),!e.isLoading&&e.checkinPayload?n("div",[e.isCheckinCompleted||1!==e.currentStep?e._e():n("Card",[n("h2",[e._v("Dags att checka in")]),n("p",{staticClass:"note"},[e._v("Steg 1 av 2")]),n("p",[e._v("Lagets namn: "),n("strong",[e._v(e._s(e.groupName))]),e._v(".")]),n("p",[e._v("Tävlingsklass: "),n("strong",[e._v(e._s(e.categoryName))]),e._v(".")]),n("p",[e._v("Stämmer detta?")]),n("div",{staticClass:"buttons"},[n("div"),n("Button",{attrs:{label:"Ja, fortsätt",type:"primary"},on:{click:e.onContinue}})],1),n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Något stämmer inte",type:"secondary"},on:{click:e.onSomethingWrong}})],1)]),e.isCheckinCompleted||2!==e.currentStep?e._e():n("Card",[n("h2",[e._v("Vilka är med idag?")]),n("p",{staticClass:"note"},[e._v("Steg 2 av 2")]),n("p",[e._v("Markera vilka som "),n("strong",[e._v("tävlar")]),e._v(" idag:")]),n("OptionsQuestion",{attrs:{questionResponse:e.competingParticipantsQuestionResponse,questionConfig:e.competingParticipantsQuestionConfig},on:{change:e.onCompetingParticipantsChange}}),e.isAdultSupervisorDefined?n("p",[e._v("Markera vilka som bara "),n("strong",[e._v("följer med")]),e._v(":")]):e._e(),e.isAdultSupervisorDefined?n("OptionsQuestion",{attrs:{questionResponse:e.adultSupervisorsQuestionResponse,questionConfig:e.adultSupervisorsQuestionConfig},on:{change:e.onAdultSupervisorsChange}}):e._e(),e.checkinErrorTitle?n("Message",{attrs:{header:e.checkinErrorTitle,message:e.checkinErrorMessage,type:"failure"}}):e._e(),n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Tillbaka",type:"secondary"},on:{click:e.onBack}}),n("Button",{attrs:{label:"Checka in",type:"primary",pending:e.isCheckinPending},on:{click:e.onCheckin}})],1),n("div",{staticClass:"buttons"},[n("Button",{attrs:{label:"Något stämmer inte",type:"secondary"},on:{click:e.onSomethingWrong}})],1)],1),e.isCheckinCompleted?n("Card",[n("h2",[e._v(e._s(e.checkingSuccessfulTitle))]),n("div",{domProps:{innerHTML:e._s(e.checkingSuccessfulBodyHtml)}})]):e._e()],1):e._e(),e.showSomethingWrongPopup?n("Fullscreen",{on:{close:e.closeSomethingWrongPopup}},[n("div",{staticClass:"popup-content-container"},[n("h2",[e._v(e._s(e.somethingWrongTitle))]),n("div",{domProps:{innerHTML:e._s(e.somethingWrongBodyHtml)}})])]):e._e()],1)},xu=[],Du="https://www.tunnelbanejakten.se",Bu=function(e){Object(l["a"])(n,e);var t=Object(d["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.isCheckinPending=!1,e.isCheckinCompleted=!1,e.checkinPayload=null,e.currentStep=0,e.showSomethingWrongPopup=!1,e.selectedCompetingParticipants=[],e.selectedAdultSupervisors=[],e.checkinErrorTitle="",e.checkinErrorMessage="",e}return Object(u["a"])(n,[{key:"mounted",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,this.currentStep=parseInt((null===(t=this.$route.params)||void 0===t?void 0:t.stepNumber)||"1"),e.prev=2,e.next=5,Z({endpoint:"".concat(Du,"/wp-json/tuja/v1/checkin")});case 5:n=e.sent,a=n.payload,this.checkinPayload=a,this.isCheckinCompleted="checkedin"===a.status,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](2);case 13:this.isLoading=!1;case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"groupName",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.group_name}},{key:"categoryName",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.category_name}},{key:"somethingWrongTitle",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.messages.something_wrong.title}},{key:"somethingWrongBodyHtml",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.messages.something_wrong.body_text}},{key:"checkingSuccessfulTitle",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.messages.checkin_done.title}},{key:"checkingSuccessfulBodyHtml",get:function(){var e;return null===(e=this.checkinPayload)||void 0===e?void 0:e.messages.checkin_done.body_text}},{key:"competingParticipants",get:function(){return this.checkinPayload.participants.filter((function(e){var t=e.is_competing;return!!t}))}},{key:"adultSupervisors",get:function(){return this.checkinPayload.participants.filter((function(e){var t=e.is_adult_supervisor;return!!t}))}},{key:"competingParticipantsQuestionResponse",get:function(){return{field_name:"competingParticipants"}}},{key:"competingParticipantsQuestionConfig",get:function(){return{is_single_select:!1,possible_answers:this.competingParticipants.map(this.displayName)}}},{key:"adultSupervisorsQuestionResponse",get:function(){return{field_name:"adultSupervisors"}}},{key:"adultSupervisorsQuestionConfig",get:function(){return{is_single_select:!1,possible_answers:this.adultSupervisors.map(this.displayName)}}},{key:"isAdultSupervisorDefined",get:function(){return this.adultSupervisors.length>0}},{key:"displayName",value:function(e){var t=e.name,n=e.phone;return n?"".concat(t,", ").concat(n):t}},{key:"openSomethingWrongPopup",value:function(){this.showSomethingWrongPopup=!0}},{key:"closeSomethingWrongPopup",value:function(){this.showSomethingWrongPopup=!1}},{key:"onSomethingWrong",value:function(){this.openSomethingWrongPopup()}},{key:"onRouteChange",value:function(e){var t;this.currentStep=parseInt((null===(t=e.params)||void 0===t?void 0:t.stepNumber)||"1")}},{key:"onBack",value:function(){this.$router.push({name:"Checkin",params:{stepNumber:"1"}})}},{key:"onContinue",value:function(){this.$router.push({name:"Checkin",params:{stepNumber:"2"}})}},{key:"getPersonIdsFromFormUpdate",value:function(e,t){var n=this;return e.filter((function(e){return t.updatedFields.some((function(t){return t.value===n.displayName(e)}))})).map((function(e){var t=e.id;return t}))}},{key:"onCompetingParticipantsChange",value:function(e){this.selectedCompetingParticipants=this.getPersonIdsFromFormUpdate(this.competingParticipants,e)}},{key:"onAdultSupervisorsChange",value:function(e){this.selectedAdultSupervisors=this.getPersonIdsFromFormUpdate(this.adultSupervisors,e)}},{key:"onCheckin",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isCheckinPending=!0,this.checkinErrorTitle="",this.checkinErrorMessage="",e.prev=3,e.next=6,Z({endpoint:"".concat(Du,"/wp-json/tuja/v1/checkin"),method:"POST",payload:{people_ids:[].concat(Object(ts["a"])(this.selectedAdultSupervisors),Object(ts["a"])(this.selectedCompetingParticipants))}});case 6:e.sent,this.isCheckinCompleted=!0,e.next=28;break;case 10:if(e.prev=10,e.t0=e["catch"](3),!(e.t0 instanceof L)){e.next=25;break}e.t1=e.t0.status,e.next=400===e.t1?16:19;break;case 16:return this.checkinErrorTitle="Du missade något",this.checkinErrorMessage="Kryssade du för alla som är med?",e.abrupt("break",22);case 19:return this.checkinErrorTitle="Det gick inte att checka in",this.checkinErrorMessage="Kontakta kundtjänst om felet återkommer.",e.abrupt("break",22);case 22:Oe(ue.MISC,"failed","checkin",{message:"Group could not check in. Reason: Non-ok http response.",status:"Http response ".concat(e.t0.status,".")}),e.next=28;break;case 25:this.checkinErrorTitle="Det gick inte att checka in",this.checkinErrorMessage="Kontakta kundtjänst om felet återkommer.",Oe(ue.MISC,"failed","checkin",{message:"Group could not check in. Reason: ".concat(e.t0.message,".")});case 28:return e.prev=28,this.isCheckinPending=!1,e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[3,10,28,31]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(h["e"]);Object(p["a"])([Object(h["f"])("$route")],Bu.prototype,"onRouteChange",null),Bu=Object(p["a"])([Object(h["a"])({components:{Page:jn,Card:Ut,Loader:tt,Button:ct,Fullscreen:ra,Message:It,StepbystepProgress:xn,OptionsQuestion:lr}})],Bu);var Qu=Bu,Fu=Qu,qu=(n("7c46"),Object(xe["a"])(Fu,Mu,xu,!1,null,"0b134329",null)),Gu=qu.exports;a["a"].use(vn["a"]);var Vu=[{path:"/:authId?/about",name:"About",component:wn},{path:"/:authId?/devicetest",name:"DeviceTest",component:xi},{path:"/:authId?/tickets",name:"Tickets",component:Zi},{path:"/:authId?/map",name:"Map",component:Bo},{path:"/:authId?/duels",name:"Duels",component:Wo},{path:"/:authId?/answers/question-group/:questionGroupId",name:"AnswerQuestionGroup",component:Uu},{path:"/:authId?/answers/question/:questionId",name:"AnswerQuestion",component:eu},{path:"/:authId?/answers",name:"Answer",component:wu},{path:"/:authId?/settings",name:"Settings",component:bc},{path:"/:authId?/profile",name:"Profile",component:_c},{path:"/:authId?/checkin/:stepNumber?",name:"Checkin",component:Gu},{path:"/:authId?",name:"Home",component:lc}],Hu=new vn["a"]({routes:Vu}),Ku=Hu,Wu=n("c074"),zu=n("ad3d");Na["d"].add(Wu["d"]),Na["d"].add(Wu["m"]),Na["d"].add(Wu["q"]),Na["d"].add(Wu["r"]),Na["d"].add(Wu["h"]),Na["d"].add(Wu["s"]),Na["d"].add(Wu["c"]),Na["d"].add(Wu["e"]),Na["d"].add(Wu["j"]),Na["d"].add(Wu["u"]),Na["d"].add(Wu["o"]),Na["d"].add(Wu["f"]),Na["d"].add(Wu["i"]),Na["d"].add(Wu["n"]),Na["d"].add(Wu["k"]),Na["d"].add(Wu["a"]),Na["d"].add(Wu["b"]),Na["d"].add(Wu["l"]),Na["d"].add(Wu["g"]),Na["d"].add(Wu["t"]),Na["d"].add(Wu["p"]),a["a"].component("font-awesome-icon",zu["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Ku,render:function(e){return e(pn)}}).$mount("#app")},d1fd:function(e,t,n){},d40e:function(e,t,n){},d4c5:function(e,t,n){"use strict";n("b2b0")},d5d8:function(e,t,n){},dae1:function(e,t,n){"use strict";n("9a5b")},db8b:function(e,t,n){},dcfe:function(e,t,n){},dd49:function(e,t,n){"use strict";n("6f1b")},e175:function(e,t,n){},e33b:function(e,t,n){},e390:function(e,t,n){},e4e8:function(e,t,n){"use strict";n("871f")},e503:function(e,t,n){},e5a2:function(e,t,n){"use strict";n("7861")},ea19:function(e,t,n){},f610:function(e,t,n){},f7b4:function(e,t,n){},f952:function(e,t,n){"use strict";n("4b6f")},fb8f:function(e,t,n){"use strict";n("ea19")},feb9:function(e,t,n){}});
//# sourceMappingURL=app.2cec14df.js.map